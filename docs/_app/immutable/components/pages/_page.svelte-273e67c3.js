import{S as Se,i as we,s as Ae,E as Ve,J as ye,k as D,a as q,l as T,m as L,h as v,c as B,n as g,K as $,L as Xe,b as R,D as S,M as Je,N as K,O as Et,F as He,G as Re,H as je,P as bt,f as O,t as C,Q as pt,R as Oe,T as qe,o as Be,j as vt,U as yt,V as X,v as Pe,q as Q,r as x,u as ze,W as Ke,x as oe,y as fe,z as ie,X as It,Y as Qe,g as me,d as ge,A as ce,Z as Dt,e as ke,_ as Ye,B as Tt,$ as Lt,a0 as Nt,C as ve,w as xe,p as $e,a1 as et,a2 as tt}from"../../chunks/index-bec3bcab.js";import{c as kt,h as St,a as wt,b as Ot,s as Pt,o as Ft,M as Ct,d as Ut,v as zt}from"../../chunks/version-eb65e2f3.js";import{b as At}from"../../chunks/paths-eb28c9cb.js";import"../../chunks/transform-45c9f852.js";import{_ as Mt}from"../../chunks/preload-helper-41c905a7.js";let Ie;const Ge=()=>{if(Ie!==void 0)return Ie;try{const l=window.localStorage,e="__storage_test__";l.setItem(e,e),l.removeItem(e),Ie=!0}catch{Ie=!1}finally{return Ie}},Wt=l=>{if(Ge())try{localStorage.removeItem(l)}catch(e){console.log(e)}},Vt=(l,e)=>{if(Ge())try{localStorage.setItem(l,JSON.stringify(e))}catch(t){console.log(t)}},Ht=l=>{if(Ge())try{return JSON.parse(localStorage.getItem(l))}catch(e){console.log(e);return}},Ue={set:Vt,get:Ht,remove:Wt};async function Rt({lat:l,lon:e,state:t}){try{const n=(await kt(`${At}/assets/coordinates/${t}.csv?2023-03-08-10:03`)).map(r=>({...r,state:t,dist:St([+e,+l],[+r.longitude,+r.latitude])}));return n.sort((r,a)=>wt(r.dist,a.dist)),n.slice(0,5)}catch(s){console.log(s);return}}async function jt({lat:l,lon:e},t){const n=Ot.features.map(({id:a,properties:o})=>({id:a,...o})).map(a=>({...a,dist:St([+e,+l],a.centroid)}));return n.sort((a,o)=>wt(a.dist,o.dist)),n.map((a,o)=>({...a,index:o<10&&t.includes(a.name)?-1:o}))}const qt={testing:"This is localhost testing data",city:"Lee",country:"US",hostname:"cpe-74-76-154-164.nycap.res.rr.com",ip:"74.76.154.164",loc:"42.3043,-73.2482",org:"AS11351 Charter Communications Inc",postal:"01238",region:"Massachusetts",timezone:"America/New_York"},Bt=4e3;async function Yt(l){if(l)return Promise.resolve(qt);try{return await(await fetch("https://ipinfo.io/json?token=6f0f9c88db028a")).json()}catch(e){throw new Error(e)}}function Gt(l=!1){return new Promise((e,t)=>{const s=setTimeout(()=>t(new Error("timeout")),Bt);Yt(l).then(n=>{clearTimeout(s),e(n)}).catch(t)})}async function Zt(l){var t;let e;try{const{country:s,region:n,loc:r}=await Gt(l);if(s==="US"){const[a,o]=r.split(","),i=(t=Pt.find(u=>u.state===n))==null?void 0:t.postal;e={lat:a,lon:o,state:i}}}catch(s){console.log(s)}finally{return e}}const Me=[{name:"Portland",phoneme:"06892"},{name:"Paris",phoneme:"06499"},{name:"Georgia",phoneme:"03281"}];var We={},Xt={get exports(){return We},set exports(l){We=l}};(function(l,e){(function(){var t={};l.exports=t,t.simpleFilter=function(s,n){return n.filter(function(r){return t.test(s,r)})},t.test=function(s,n){return t.match(s,n)!==null},t.match=function(s,n,r){r=r||{};var a=0,o=[],i=n.length,u=0,d=0,_=r.pre||"",f=r.post||"",h=r.caseSensitive&&n||n.toLowerCase(),y;s=r.caseSensitive&&s||s.toLowerCase();for(var w=0;w<i;w++)y=n[w],h[w]===s[a]?(y=_+y+f,a+=1,d+=1+d):d=0,u+=d,o[o.length]=y;return a===s.length?(u=h===s?1/0:u,{rendered:o.join(""),score:u}):null},t.filter=function(s,n,r){return!n||n.length===0?[]:typeof s!="string"?n:(r=r||{},n.reduce(function(a,o,i,u){var d=o;r.extract&&(d=r.extract(o));var _=t.match(s,d,r);return _!=null&&(a[a.length]={string:_.rendered,score:_.score,index:i,original:o}),a},[]).sort(function(a,o){var i=o.score-a.score;return i||a.index-o.index}))}})()})(Xt);const Jt=We;const Kt=l=>({}),lt=l=>({});function Qt(l){let e;return{c(){e=Q(l[2])},l(t){e=x(t,l[2])},m(t,s){R(t,e,s)},p(t,s){s&4&&ze(e,t[2])},d(t){t&&v(e)}}}function xt(l){let e,t,s,n,r,a,o,i,u,d;const _=l[10].label,f=Ve(_,l,l[9],lt),h=f||Qt(l);let y=[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},l[6],{id:l[4]}],w={};for(let p=0;p<y.length;p+=1)w=ye(w,y[p]);return{c(){e=D("form"),t=D("label"),h&&h.c(),n=q(),r=D("input"),this.h()},l(p){e=T(p,"FORM",{"data-svelte-search":!0,role:!0,"aria-labelledby":!0});var A=L(e);t=T(A,"LABEL",{id:!0,for:!0,class:!0});var P=L(t);h&&h.l(P),P.forEach(v),n=B(A),r=T(A,"INPUT",{name:!0,type:!0,placeholder:!0,autocomplete:!0,spellcheck:!0,id:!0}),A.forEach(v),this.h()},h(){g(t,"id",s=l[4]+"-label"),g(t,"for",l[4]),g(t,"class","svelte-wqugyy"),$(t,"hide-label",l[3]),Xe(r,w),$(r,"svelte-wqugyy",!0),g(e,"data-svelte-search",""),g(e,"role",a=l[5]?null:"search"),g(e,"aria-labelledby",o=l[5]?null:l[4])},m(p,A){R(p,e,A),S(e,t),h&&h.m(t,null),S(e,n),S(e,r),r.autofocus&&r.focus(),l[17](r),Je(r,l[0]),i=!0,u||(d=[K(r,"input",l[18]),K(r,"input",l[12]),K(r,"change",l[13]),K(r,"focus",l[14]),K(r,"blur",l[15]),K(r,"keydown",l[16]),K(e,"submit",Et(l[11]))],u=!0)},p(p,[A]){f?f.p&&(!i||A&512)&&He(f,_,p,p[9],i?je(_,p[9],A,Kt):Re(p[9]),lt):h&&h.p&&(!i||A&4)&&h.p(p,i?A:-1),(!i||A&16&&s!==(s=p[4]+"-label"))&&g(t,"id",s),(!i||A&16)&&g(t,"for",p[4]),(!i||A&8)&&$(t,"hide-label",p[3]),Xe(r,w=bt(y,[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},A&64&&p[6],(!i||A&16)&&{id:p[4]}])),A&1&&Je(r,p[0]),$(r,"svelte-wqugyy",!0),(!i||A&32&&a!==(a=p[5]?null:"search"))&&g(e,"role",a),(!i||A&48&&o!==(o=p[5]?null:p[4]))&&g(e,"aria-labelledby",o)},i(p){i||(O(h,p),i=!0)},o(p){C(h,p),i=!1},d(p){p&&v(e),h&&h.d(p),l[17](null),u=!1,pt(d)}}}function $t(l,e,t){const s=["value","autofocus","debounce","label","hideLabel","id","ref","removeFormAriaAttributes"];let n=Oe(e,s),{$$slots:r={},$$scope:a}=e,{value:o=""}=e,{autofocus:i=!1}=e,{debounce:u=0}=e,{label:d="Label"}=e,{hideLabel:_=!1}=e,{id:f="search"+Math.random().toString(36)}=e,{ref:h=null}=e,{removeFormAriaAttributes:y=!1}=e;const w=qe();let p=o,A,P=!1;function k(m){P||(P=!0,A=setTimeout(()=>{m(),P=!1},u))}Be(()=>(i&&window.requestAnimationFrame(()=>h.focus()),()=>clearTimeout(A))),vt(()=>{o.length>0&&o!==p&&(u>0?k(()=>w("type",o)):w("type",o)),o.length===0&&p.length>0&&w("clear"),p=o});function N(m){X.call(this,l,m)}function b(m){X.call(this,l,m)}function I(m){X.call(this,l,m)}function U(m){X.call(this,l,m)}function he(m){X.call(this,l,m)}function J(m){X.call(this,l,m)}function Z(m){Pe[m?"unshift":"push"](()=>{h=m,t(1,h)})}function M(){o=this.value,t(0,o)}return l.$$set=m=>{e=ye(ye({},e),yt(m)),t(6,n=Oe(e,s)),"value"in m&&t(0,o=m.value),"autofocus"in m&&t(7,i=m.autofocus),"debounce"in m&&t(8,u=m.debounce),"label"in m&&t(2,d=m.label),"hideLabel"in m&&t(3,_=m.hideLabel),"id"in m&&t(4,f=m.id),"ref"in m&&t(1,h=m.ref),"removeFormAriaAttributes"in m&&t(5,y=m.removeFormAriaAttributes),"$$scope"in m&&t(9,a=m.$$scope)},[o,h,d,_,f,y,n,i,u,a,r,N,b,I,U,he,J,Z,M]}class el extends Se{constructor(e){super(),we(this,e,$t,xt,Ae,{value:0,autofocus:7,debounce:8,label:2,hideLabel:3,id:4,ref:1,removeFormAriaAttributes:5})}}const tl=el;const ll=l=>({value:l[0]&1,result:l[0]&2}),st=l=>({value:l[0],result:l[47],index:l[49]});function nt(l,e,t){const s=l.slice();return s[47]=e[t],s[49]=t,s}const sl=l=>({result:l[0]&2,value:l[0]&1}),at=l=>({result:l[47],index:l[49],value:l[0]});function rt(l){let e,t,s=l[1],n=[];for(let a=0;a<s.length;a+=1)n[a]=ot(nt(l,s,a));const r=a=>C(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ke()},m(a,o){for(let i=0;i<n.length;i+=1)n[i].m(a,o);R(a,e,o),t=!0},p(a,o){if(o[0]&67111943){s=a[1];let i;for(i=0;i<s.length;i+=1){const u=nt(a,s,i);n[i]?(n[i].p(u,o),O(n[i],1)):(n[i]=ot(u),n[i].c(),O(n[i],1),n[i].m(e.parentNode,e))}for(me(),i=s.length;i<n.length;i+=1)r(i);ge()}},i(a){if(!t){for(let o=0;o<s.length;o+=1)O(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)C(n[o]);t=!1},d(a){Ye(n,a),a&&v(e)}}}function nl(l){let e,t=l[47].string+"",s;return{c(){e=new Lt(!1),s=ke(),this.h()},l(n){e=Nt(n,!1),s=ke(),this.h()},h(){e.a=s},m(n,r){e.m(t,n,r),R(n,s,r)},p(n,r){r[0]&2&&t!==(t=n[47].string+"")&&e.p(t)},d(n){n&&v(s),n&&e.d()}}}function ot(l){let e,t,s,n,r,a,o;const i=l[27].default,u=Ve(i,l,l[26],at),d=u||nl(l);function _(){return l[40](l[47],l[49])}function f(){return l[41](l[47],l[49])}return{c(){e=D("li"),d&&d.c(),t=q(),this.h()},l(h){e=T(h,"LI",{role:!0,id:!0,"aria-selected":!0,class:!0});var y=L(e);d&&d.l(y),t=B(y),y.forEach(v),this.h()},h(){g(e,"role","option"),g(e,"id",s=l[2]+"-result-"+l[49]),g(e,"aria-selected",n=l[10]===l[49]),g(e,"class","svelte-iyl6gc"),$(e,"selected",l[10]===l[49]),$(e,"disabled",l[47].disabled)},m(h,y){R(h,e,y),d&&d.m(e,null),S(e,t),r=!0,a||(o=[K(e,"click",_),K(e,"mouseenter",f)],a=!0)},p(h,y){l=h,u?u.p&&(!r||y[0]&67108867)&&He(u,i,l,l[26],r?je(i,l[26],y,sl):Re(l[26]),at):d&&d.p&&(!r||y[0]&2)&&d.p(l,r?y:[-1,-1]),(!r||y[0]&4&&s!==(s=l[2]+"-result-"+l[49]))&&g(e,"id",s),(!r||y[0]&1024&&n!==(n=l[10]===l[49]))&&g(e,"aria-selected",n),(!r||y[0]&1024)&&$(e,"selected",l[10]===l[49]),(!r||y[0]&2)&&$(e,"disabled",l[47].disabled)},i(h){r||(O(d,h),r=!0)},o(h){C(d,h),r=!1},d(h){h&&v(e),d&&d.d(h),a=!1,pt(o)}}}function it(l){let e,t;const s=l[27]["no-results"],n=Ve(s,l,l[26],st);return{c(){e=D("div"),n&&n.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var a=L(e);n&&n.l(a),a.forEach(v),this.h()},h(){g(e,"class","svelte-iyl6gc"),$(e,"no-results",!0)},m(r,a){R(r,e,a),n&&n.m(e,null),t=!0},p(r,a){n&&n.p&&(!t||a[0]&67108867)&&He(n,s,r,r[26],t?je(s,r[26],a,ll):Re(r[26]),st)},i(r){t||(O(n,r),t=!0)},o(r){C(n,r),t=!1},d(r){r&&v(e),n&&n.d(r)}}}function al(l){let e,t,s,n,r,a,o,i,u,d,_,f,h,y;const w=[{id:l[2]},{removeFormAriaAttributes:!0},l[16],{"aria-autocomplete":"list"},{"aria-controls":l[2]+"-listbox"},{"aria-labelledby":l[2]+"-label"},{"aria-activedescendant":l[10]>=0&&!l[5]&&l[1].length>0?`${l[2]}-result-${l[10]}`:null}];function p(b){l[29](b)}function A(b){l[30](b)}let P={};for(let b=0;b<w.length;b+=1)P=ye(P,w[b]);l[9]!==void 0&&(P.ref=l[9]),l[0]!==void 0&&(P.value=l[0]),t=new tl({props:P}),Pe.push(()=>Ke(t,"ref",p)),Pe.push(()=>Ke(t,"value",A)),t.$on("type",l[31]),t.$on("input",l[32]),t.$on("change",l[33]),t.$on("focus",l[34]),t.$on("focus",l[35]),t.$on("clear",l[36]),t.$on("clear",l[13]),t.$on("blur",l[37]),t.$on("keydown",l[38]),t.$on("keydown",l[39]);let k=l[7]&&rt(l),N=l[15]["no-results"]&&!l[5]&&l[0].length>0&&l[1].length===0&&it(l);return{c(){e=D("div"),oe(t.$$.fragment),r=q(),a=D("ul"),k&&k.c(),o=q(),N&&N.c(),this.h()},l(b){e=T(b,"DIV",{"data-svelte-typeahead":!0,role:!0,"aria-haspopup":!0,"aria-controls":!0,"aria-expanded":!0,id:!0,class:!0});var I=L(e);fe(t.$$.fragment,I),r=B(I),a=T(I,"UL",{role:!0,"aria-labelledby":!0,id:!0,class:!0});var U=L(a);k&&k.l(U),o=B(U),N&&N.l(U),U.forEach(v),I.forEach(v),this.h()},h(){g(a,"role","listbox"),g(a,"aria-labelledby",i=l[2]+"-label"),g(a,"id",u=l[2]+"-listbox"),g(a,"class","svelte-iyl6gc"),$(a,"svelte-typeahead-list",!0),g(e,"data-svelte-typeahead",""),g(e,"role","combobox"),g(e,"aria-haspopup","listbox"),g(e,"aria-controls",d=l[2]+"-listbox"),g(e,"aria-expanded",l[7]),g(e,"id",_=l[2]+"-typeahead"),g(e,"class","svelte-iyl6gc"),$(e,"dropdown",l[1].length>0)},m(b,I){R(b,e,I),ie(t,e,null),S(e,r),S(e,a),k&&k.m(a,null),S(a,o),N&&N.m(a,null),l[42](e),f=!0,h||(y=K(window,"click",l[28]),h=!0)},p(b,I){const U=I[0]&66598?bt(w,[I[0]&4&&{id:b[2]},w[1],I[0]&65536&&It(b[16]),w[3],I[0]&4&&{"aria-controls":b[2]+"-listbox"},I[0]&4&&{"aria-labelledby":b[2]+"-label"},I[0]&1062&&{"aria-activedescendant":b[10]>=0&&!b[5]&&b[1].length>0?`${b[2]}-result-${b[10]}`:null}]):{};!s&&I[0]&512&&(s=!0,U.ref=b[9],Qe(()=>s=!1)),!n&&I[0]&1&&(n=!0,U.value=b[0],Qe(()=>n=!1)),t.$set(U),b[7]?k?(k.p(b,I),I[0]&128&&O(k,1)):(k=rt(b),k.c(),O(k,1),k.m(a,o)):k&&(me(),C(k,1,1,()=>{k=null}),ge()),b[15]["no-results"]&&!b[5]&&b[0].length>0&&b[1].length===0?N?(N.p(b,I),I[0]&32803&&O(N,1)):(N=it(b),N.c(),O(N,1),N.m(a,null)):N&&(me(),C(N,1,1,()=>{N=null}),ge()),(!f||I[0]&4&&i!==(i=b[2]+"-label"))&&g(a,"aria-labelledby",i),(!f||I[0]&4&&u!==(u=b[2]+"-listbox"))&&g(a,"id",u),(!f||I[0]&4&&d!==(d=b[2]+"-listbox"))&&g(e,"aria-controls",d),(!f||I[0]&128)&&g(e,"aria-expanded",b[7]),(!f||I[0]&4&&_!==(_=b[2]+"-typeahead"))&&g(e,"id",_),(!f||I[0]&2)&&$(e,"dropdown",b[1].length>0)},i(b){f||(O(t.$$.fragment,b),O(k),O(N),f=!0)},o(b){C(t.$$.fragment,b),C(k),C(N),f=!1},d(b){b&&v(e),ce(t),k&&k.d(),N&&N.d(),l[42](null),h=!1,y()}}}function rl(l,e,t){let s,n,r;const a=["id","value","data","extract","disable","filter","autoselect","inputAfterSelect","results","focusAfterSelect","showDropdownOnFocus","showAllResultsOnFocus","limit"];let o=Oe(e,a),{$$slots:i={},$$scope:u}=e;const d=Dt(i);let{id:_="typeahead-"+Math.random().toString(36)}=e,{value:f=""}=e,{data:h=[]}=e,{extract:y=c=>c}=e,{disable:w=c=>!1}=e,{filter:p=c=>!1}=e,{autoselect:A=!0}=e,{inputAfterSelect:P="update"}=e,{results:k=[]}=e,{focusAfterSelect:N=!1}=e,{showDropdownOnFocus:b=!1}=e,{showAllResultsOnFocus:I=!1}=e,{limit:U=1/0}=e;const he=qe();let J=null,Z=null,M=!1,m=-1,Y="",ee=!1;vt(()=>{Y!==n&&A&&t(10,m=re()),Y!==n&&!d["no-results"]&&t(5,M=k.length===0),Y=n});async function te(){const c=k[m];if(c.disabled)return;const F=y(c.original),ae=f;P=="clear"&&t(0,f=""),P=="update"&&t(0,f=F),he("select",{selectedIndex:m,searched:ae,selected:F,original:c.original,originalIndex:c.index}),await Tt(),N&&Z.focus(),se()}function re(){var ae,Ee;let c=0,F=((ae=k[c])==null?void 0:ae.disabled)??!1;for(;F;)c===k.length?c=0:c+=1,F=((Ee=k[c])==null?void 0:Ee.disabled)??!1;return c}function de(c){let F=c===1&&m===k.length-1?0:m+c;F<0&&(F=k.length-1);let ae=k[F].disabled;for(;ae;)F===k.length?F=0:F+=c,ae=k[F].disabled;t(10,m=F)}const le=()=>t(5,M=!1),se=()=>{t(5,M=!0),t(6,ee=!1)},ue=({target:c})=>{!M&&!(J!=null&&J.contains(c))&&se()};function W(c){Z=c,t(9,Z)}function V(c){f=c,t(0,f)}function z(c){X.call(this,l,c)}function De(c){X.call(this,l,c)}function ne(c){X.call(this,l,c)}function Te(c){X.call(this,l,c)}const E=()=>{le(),(b||I)&&(t(7,r=!0),t(6,ee=!0))};function H(c){X.call(this,l,c)}function G(c){X.call(this,l,c)}function j(c){X.call(this,l,c)}const _e=c=>{if(k.length!==0)switch(c.key){case"Enter":te();break;case"ArrowDown":c.preventDefault(),de(1);break;case"ArrowUp":c.preventDefault(),de(-1);break;case"Escape":c.preventDefault(),t(0,f=""),Z==null||Z.focus(),se();break}},be=(c,F)=>{c.disabled||(t(10,m=F),te())},pe=(c,F)=>{c.disabled||t(10,m=F)};function Le(c){Pe[c?"unshift":"push"](()=>{J=c,t(8,J)})}return l.$$set=c=>{e=ye(ye({},e),yt(c)),t(16,o=Oe(e,a)),"id"in c&&t(2,_=c.id),"value"in c&&t(0,f=c.value),"data"in c&&t(17,h=c.data),"extract"in c&&t(18,y=c.extract),"disable"in c&&t(19,w=c.disable),"filter"in c&&t(20,p=c.filter),"autoselect"in c&&t(21,A=c.autoselect),"inputAfterSelect"in c&&t(22,P=c.inputAfterSelect),"results"in c&&t(1,k=c.results),"focusAfterSelect"in c&&t(23,N=c.focusAfterSelect),"showDropdownOnFocus"in c&&t(3,b=c.showDropdownOnFocus),"showAllResultsOnFocus"in c&&t(4,I=c.showAllResultsOnFocus),"limit"in c&&t(24,U=c.limit),"$$scope"in c&&t(26,u=c.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&262144&&t(25,s={pre:"<mark>",post:"</mark>",extract:y}),l.$$.dirty[0]&52035585&&t(1,k=Jt.filter(f,h,s).filter(({score:c})=>c>0).slice(0,U).filter(c=>!p(c.original)).map(c=>({...c,disabled:w(c.original)}))),l.$$.dirty[0]&1966161&&ee&&I&&f.length===0&&t(1,k=h.filter(c=>!p(c)).map((c,F)=>({disabled:w(c),index:F,original:c,score:0,string:y(c)}))),l.$$.dirty[0]&262146&&(n=k.map(c=>y(c.original)).join("")),l.$$.dirty[0]&34&&t(7,r=!M&&k.length>0),l.$$.dirty[0]&200&&b&&t(7,r=r&&ee)},[f,k,_,b,I,M,ee,r,J,Z,m,te,de,le,se,d,o,h,y,w,p,A,P,N,U,s,u,i,ue,W,V,z,De,ne,Te,E,H,G,j,_e,be,pe,Le]}class ol extends Se{constructor(e){super(),we(this,e,rl,al,Ae,{id:2,value:0,data:17,extract:18,disable:19,filter:20,autoselect:21,inputAfterSelect:22,results:1,focusAfterSelect:23,showDropdownOnFocus:3,showAllResultsOnFocus:4,limit:24},null,[-1,-1])}}function il(l){let e,t;return e=new ol({props:{label:"Look up a city or town in the US",data:Ft,extract:l[0],inputAfterSelect:"clear",limit:10}}),e.$on("select",l[1]),{c(){oe(e.$$.fragment)},l(s){fe(e.$$.fragment,s)},m(s,n){ie(e,s,n),t=!0},p:ve,i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function cl(l){const e=qe(),t=n=>n.name;function s(n){const{name:r,phoneme:a}=n.detail.original;e("change",{name:r,phoneme:a})}return[t,s]}class ul extends Se{constructor(e){super(),we(this,e,cl,il,Ae,{})}}function ct(l){let e,t,s;var n=l[3];function r(a){return{props:{size:a[0],color:a[1],strokeWidth:a[2]}}}return n&&(t=xe(n,r(l))),{c(){e=D("span"),t&&oe(t.$$.fragment),this.h()},l(a){e=T(a,"SPAN",{class:!0,style:!0});var o=L(e);t&&fe(t.$$.fragment,o),o.forEach(v),this.h()},h(){g(e,"class","icon svelte-1r7hpvv"),$e(e,"transform","rotate("+l[4]+"deg)")},m(a,o){R(a,e,o),t&&ie(t,e,null),s=!0},p(a,o){const i={};if(o&1&&(i.size=a[0]),o&2&&(i.color=a[1]),o&4&&(i.strokeWidth=a[2]),n!==(n=a[3])){if(t){me();const u=t;C(u.$$.fragment,1,0,()=>{ce(u,1)}),ge()}n?(t=xe(n,r(a)),oe(t.$$.fragment),O(t.$$.fragment,1),ie(t,e,null)):t=null}else n&&t.$set(i);(!s||o&16)&&$e(e,"transform","rotate("+a[4]+"deg)")},i(a){s||(t&&O(t.$$.fragment,a),s=!0)},o(a){t&&C(t.$$.fragment,a),s=!1},d(a){a&&v(e),t&&ce(t)}}}function fl(l){let e,t,s=l[3]&&ct(l);return{c(){s&&s.c(),e=ke()},l(n){s&&s.l(n),e=ke()},m(n,r){s&&s.m(n,r),R(n,e,r),t=!0},p(n,[r]){n[3]?s?(s.p(n,r),r&8&&O(s,1)):(s=ct(n),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(me(),C(s,1,1,()=>{s=null}),ge())},i(n){t||(O(s),t=!0)},o(n){C(s),t=!1},d(n){s&&s.d(n),n&&v(e)}}}function hl(l,e,t){let s;const n=["n","ne","e","se","s","sw","w","nw"];let{name:r}=e,{direction:a="n"}=e,{size:o="1em"}=e,{color:i=void 0}=e,{strokeWidth:u=void 0}=e,d;const _=f=>{const h=f.replace(/[^a-zA-Z0-9]+(.)/g,(p,A)=>A.toUpperCase()),y=f.charAt(0).toUpperCase(),w=h.slice(1);return`${y}${w}`};return Be(async()=>{const f=_(r);t(3,d=(await Mt(()=>import("../../chunks/lucide-svelte-1129659c.js"),["../../chunks/lucide-svelte-1129659c.js","../../chunks/index-bec3bcab.js"],import.meta.url))[f])}),l.$$set=f=>{"name"in f&&t(6,r=f.name),"direction"in f&&t(7,a=f.direction),"size"in f&&t(0,o=f.size),"color"in f&&t(1,i=f.color),"strokeWidth"in f&&t(2,u=f.strokeWidth)},l.$$.update=()=>{l.$$.dirty&128&&t(4,s=n.indexOf(a)*45)},[o,i,u,d,s,n,r,a]}class dl extends Se{constructor(e){super(),we(this,e,hl,fl,Ae,{directions:5,name:6,direction:7,size:0,color:1,strokeWidth:2})}get directions(){return this.$$.ctx[5]}}function ut(l,e,t){const s=l.slice();s[13]=e[t];const n=s[13];return s[14]=n.name,s[15]=n.state,s}function ft(l,e,t){const s=l.slice();s[13]=e[t];const n=s[13];return s[14]=n.name,s}function ht(l){let e,t,s=l[14]+"",n,r,a,o;function i(){return l[9](l[13])}return{c(){e=D("li"),t=D("button"),n=Q(s),r=q(),this.h()},l(u){e=T(u,"LI",{class:!0});var d=L(e);t=T(d,"BUTTON",{class:!0});var _=L(t);n=x(_,s),_.forEach(v),r=B(d),d.forEach(v),this.h()},h(){g(t,"class","svelte-np82rb"),g(e,"class","svelte-np82rb")},m(u,d){R(u,e,d),S(e,t),S(t,n),S(e,r),a||(o=K(t,"click",i),a=!0)},p(u,d){l=u},d(u){u&&v(e),a=!1,o()}}}function dt(l){let e,t,s=l[6].locate+"",n,r,a,o=l[3],i=[];for(let u=0;u<o.length;u+=1)i[u]=_t(ut(l,o,u));return{c(){e=D("div"),t=D("p"),n=Q(s),r=q(),a=D("ul");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var d=L(e);t=T(d,"P",{class:!0});var _=L(t);n=x(_,s),_.forEach(v),r=B(d),a=T(d,"UL",{class:!0});var f=L(a);for(let h=0;h<i.length;h+=1)i[h].l(f);f.forEach(v),d.forEach(v),this.h()},h(){g(t,"class","svelte-np82rb"),g(a,"class","svelte-np82rb"),g(e,"class","locate svelte-np82rb")},m(u,d){R(u,e,d),S(e,t),S(t,n),S(e,r),S(e,a);for(let _=0;_<i.length;_+=1)i[_].m(a,null)},p(u,d){if(d&136){o=u[3];let _;for(_=0;_<o.length;_+=1){const f=ut(u,o,_);i[_]?i[_].p(f,d):(i[_]=_t(f),i[_].c(),i[_].m(a,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=o.length}},d(u){u&&v(e),Ye(i,u)}}}function _t(l){let e,t,s=l[14]+"",n,r,a=l[15]+"",o,i,u,d;function _(){return l[10](l[13])}return{c(){e=D("li"),t=D("button"),n=Q(s),r=Q(", "),o=Q(a),i=q(),this.h()},l(f){e=T(f,"LI",{class:!0});var h=L(e);t=T(h,"BUTTON",{class:!0});var y=L(t);n=x(y,s),r=x(y,", "),o=x(y,a),y.forEach(v),i=B(h),h.forEach(v),this.h()},h(){g(t,"class","svelte-np82rb"),g(e,"class","svelte-np82rb")},m(f,h){R(f,e,h),S(e,t),S(t,n),S(t,r),S(t,o),S(e,i),u||(d=K(t,"click",_),u=!0)},p(f,h){l=f,h&8&&s!==(s=l[14]+"")&&ze(n,s),h&8&&a!==(a=l[15]+"")&&ze(o,a)},d(f){f&&v(e),u=!1,d()}}}function mt(l){let e,t,s;return t=new ul({}),t.$on("change",l[11]),{c(){e=D("div"),oe(t.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var r=L(e);fe(t.$$.fragment,r),r.forEach(v),this.h()},h(){g(e,"class","select svelte-np82rb")},m(n,r){R(n,e,r),ie(t,e,null),s=!0},p:ve,i(n){s||(O(t.$$.fragment,n),s=!0)},o(n){C(t.$$.fragment,n),s=!1},d(n){n&&v(e),ce(t)}}}function _l(l){let e,t;return{c(){e=D("p"),t=Q("loading..."),this.h()},l(s){e=T(s,"P",{class:!0});var n=L(e);t=x(n,"loading..."),n.forEach(v),this.h()},h(){g(e,"class","loading svelte-np82rb")},m(s,n){R(s,e,n),S(e,t)},p:ve,i:ve,o:ve,d(s){s&&v(e)}}}function ml(l){let e,t,s,n=l[6].help+"",r;return e=new Ct({props:{placeData:l[1],placeName:l[0],location:l[2],countiesByDist:l[4]}}),{c(){oe(e.$$.fragment),t=q(),s=D("p"),this.h()},l(a){fe(e.$$.fragment,a),t=B(a),s=T(a,"P",{class:!0});var o=L(s);o.forEach(v),this.h()},h(){g(s,"class","svelte-np82rb")},m(a,o){ie(e,a,o),R(a,t,o),R(a,s,o),s.innerHTML=n,r=!0},p(a,o){const i={};o&2&&(i.placeData=a[1]),o&1&&(i.placeName=a[0]),o&4&&(i.location=a[2]),o&16&&(i.countiesByDist=a[4]),e.$set(i)},i(a){r||(O(e.$$.fragment,a),r=!0)},o(a){C(e.$$.fragment,a),r=!1},d(a){ce(e,a),a&&v(t),a&&v(s)}}}function gl(l){let e,t,s,n=l[6].title+"",r,a,o,i=l[6].intro+"",u,d,_,f,h,y=l[6].discoverySummary+"",w,p,A,P,k,N=l[6].classic+"",b,I,U,he,J,Z,M,m,Y,ee,te,re,de,le,se,ue=Me,W=[];for(let E=0;E<ue.length;E+=1)W[E]=ht(ft(l,ue,E));let V=l[3]&&l[3].length&&dt(l),z=(l[2]&&!l[2].state||l[1])&&mt(l);const De=[ml,_l],ne=[];function Te(E,H){return E[1]?0:1}return m=Te(l),Y=ne[m]=De[m](l),le=new dl({props:{name:"forward",strokeWidth:"3px"}}),{c(){e=D("article"),t=D("section"),s=D("h1"),r=Q(n),a=q(),o=D("p"),u=Q(i),d=q(),_=D("div"),f=D("details"),h=D("summary"),w=Q(y),p=q(),A=D("div"),P=D("div"),k=D("p"),b=Q(N),I=q(),U=D("ul");for(let E=0;E<W.length;E+=1)W[E].c();he=q(),V&&V.c(),J=q(),z&&z.c(),Z=q(),M=D("section"),Y.c(),ee=q(),te=D("div"),re=D("button"),de=Q("Share this map "),oe(le.$$.fragment),this.h()},l(E){e=T(E,"ARTICLE",{class:!0});var H=L(e);t=T(H,"SECTION",{id:!0,class:!0});var G=L(t);s=T(G,"H1",{class:!0});var j=L(s);r=x(j,n),j.forEach(v),a=B(G),o=T(G,"P",{});var _e=L(o);u=x(_e,i),_e.forEach(v),d=B(G),_=T(G,"DIV",{class:!0});var be=L(_);f=T(be,"DETAILS",{});var pe=L(f);h=T(pe,"SUMMARY",{});var Le=L(h);w=x(Le,y),Le.forEach(v),p=B(pe),A=T(pe,"DIV",{class:!0});var c=L(A);P=T(c,"DIV",{class:!0});var F=L(P);k=T(F,"P",{class:!0});var ae=L(k);b=x(ae,N),ae.forEach(v),I=B(F),U=T(F,"UL",{class:!0});var Ee=L(U);for(let Ce=0;Ce<W.length;Ce+=1)W[Ce].l(Ee);Ee.forEach(v),F.forEach(v),he=B(c),V&&V.l(c),c.forEach(v),pe.forEach(v),J=B(be),z&&z.l(be),be.forEach(v),G.forEach(v),Z=B(H),M=T(H,"SECTION",{id:!0,class:!0});var Ne=L(M);Y.l(Ne),ee=B(Ne),te=T(Ne,"DIV",{class:!0});var Ze=L(te);re=T(Ze,"BUTTON",{class:!0});var Fe=L(re);de=x(Fe,"Share this map "),fe(le.$$.fragment,Fe),Fe.forEach(v),Ze.forEach(v),Ne.forEach(v),H.forEach(v),this.h()},h(){g(s,"class","svelte-np82rb"),g(k,"class","svelte-np82rb"),g(U,"class","svelte-np82rb"),g(P,"class","classic svelte-np82rb"),g(A,"class","inner svelte-np82rb"),f.open=l[5],g(_,"class","discover"),g(t,"id","intro"),g(t,"class","svelte-np82rb"),g(re,"class","svelte-np82rb"),g(te,"class","share svelte-np82rb"),g(M,"id","interactive"),g(M,"class","svelte-np82rb"),g(e,"class","svelte-np82rb")},m(E,H){R(E,e,H),S(e,t),S(t,s),S(s,r),S(t,a),S(t,o),S(o,u),S(t,d),S(t,_),S(_,f),S(f,h),S(h,w),S(f,p),S(f,A),S(A,P),S(P,k),S(k,b),S(P,I),S(P,U);for(let G=0;G<W.length;G+=1)W[G].m(U,null);S(A,he),V&&V.m(A,null),S(_,J),z&&z.m(_,null),S(e,Z),S(e,M),ne[m].m(M,null),S(M,ee),S(M,te),S(te,re),S(re,de),ie(le,re,null),se=!0},p(E,[H]){if(H&128){ue=Me;let j;for(j=0;j<ue.length;j+=1){const _e=ft(E,ue,j);W[j]?W[j].p(_e,H):(W[j]=ht(_e),W[j].c(),W[j].m(U,null))}for(;j<W.length;j+=1)W[j].d(1);W.length=ue.length}E[3]&&E[3].length?V?V.p(E,H):(V=dt(E),V.c(),V.m(A,null)):V&&(V.d(1),V=null),(!se||H&32)&&(f.open=E[5]),E[2]&&!E[2].state||E[1]?z?(z.p(E,H),H&6&&O(z,1)):(z=mt(E),z.c(),O(z,1),z.m(_,null)):z&&(me(),C(z,1,1,()=>{z=null}),ge());let G=m;m=Te(E),m===G?ne[m].p(E,H):(me(),C(ne[G],1,1,()=>{ne[G]=null}),ge(),Y=ne[m],Y?Y.p(E,H):(Y=ne[m]=De[m](E),Y.c()),O(Y,1),Y.m(M,ee))},i(E){se||(O(z),O(Y),O(le.$$.fragment,E),se=!0)},o(E){C(z),C(Y),C(le.$$.fragment,E),se=!1},d(E){E&&v(e),Ye(W,E),V&&V.d(),z&&z.d(),ne[m].d(),ce(le)}}}function bl(l,e,t){const s=et("copy");et("data");let n,r,a,o,i,u,d=!1;function _({name:w,phoneme:p}){t(5,d=!1),t(8,n=p),t(0,r=w)}Be(async()=>{_(Me[0]);try{Ue.remove("pudding_samename");const p=Ue.get("pudding_samename");t(2,o=p||await Zt(!0)||{}),!p&&(o!=null&&o.state)&&Ue.set("pudding_samename",o),o!=null&&o.state&&(t(3,i=await Rt(o)),t(4,u=await jt(o,i[0].county))),t(2,o.lat=+(o==null?void 0:o.lat),o),t(2,o.lon=+(o==null?void 0:o.lon),o)}catch(w){console.log(w)}});const f=w=>_(w),h=w=>_(w),y=({detail:w})=>_(w);return l.$$.update=()=>{l.$$.dirty&256&&n&&(async()=>t(1,a=await kt(`${At}/assets/places/${n}.csv?2023-03-08-10:03`)))()},[r,a,o,i,u,d,s,_,n,f,h,y]}class pl extends Se{constructor(e){super(),we(this,e,bl,gl,Ae,{})}}const vl="A Map of Places in the US with Shared Names",yl="Tk description.",kl="There are thousands of cities and towns in the US that share their name with another place. We calculated what place someone is most likely referring to, depending on where they are.",Sl="Not sure where to start? Check out some curated places.",wl="some details",Al="County scores are based on an artisanal blend of proximity and recognition (population and Wikipedia article length). We know a lot of you will disagree with our method, so we made <a href=https://pudding.cool>a sandbox</a> that explains our choices, and lets you customize and share your own. Creating a data set of colloquially used places in the US is a mammoth task, so we are updating it as we learn more. You can <a href=https://docs.google.com/spreadsheets/d/1cHtvcuxvxI6Y2hA5Xa2wg8AW0SZ7ZYG5H5x7H4jGLdk/edit#gid=0 target=_blank rel=noreferrer>help us</a> improve the data with your local expertise.",El="Editor picks",Il=["Portland","Paris","Georgia",""],Dl="Near you",Tl="Spot something wrong? <a href=https://docs.google.com/spreadsheets/d/1cHtvcuxvxI6Y2hA5Xa2wg8AW0SZ7ZYG5H5x7H4jGLdk/edit#gid=0 target=_blank rel=noreferrer>Help us</a> improve the data!",Ll="Every county gets a score on a 0-100 scale for each place based on a combination of proximity, population, and Wikipedia article length. Scores are split into three tiers; 75+ means it has a strong connection <strong>(probably)</strong>, 50+ is less strong <strong>(maybe)</strong>, and  50 is a weak connection <strong>(toss-up).</strong>",Nl="The <strong>counties</strong> value is the number of counties for which that place was the top score.",gt={title:vl,description:yl,intro:kl,discoverySummary:Sl,summary:wl,details:Al,classic:El,classics:Il,locate:Dl,help:Tl,tableIntro:Ll,placeNote:Nl};function Ol(l){let e,t,s,n;return e=new Ut({props:{title:l[0],description:l[1],url:l[2],keywords:l[3]}}),s=new pl({}),{c(){oe(e.$$.fragment),t=q(),oe(s.$$.fragment)},l(r){fe(e.$$.fragment,r),t=B(r),fe(s.$$.fragment,r)},m(r,a){ie(e,r,a),R(r,t,a),ie(s,r,a),n=!0},p:ve,i(r){n||(O(e.$$.fragment,r),O(s.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),C(s.$$.fragment,r),n=!1},d(r){ce(e,r),r&&v(t),ce(s,r)}}}function Pl(l,e,t){let{data:s}=e;zt();const{title:n,description:r,url:a,keywords:o}=gt;return tt("copy",gt),tt("data",s.data),l.$$set=i=>{"data"in i&&t(4,s=i.data)},[n,r,a,o,s]}class Wl extends Se{constructor(e){super(),we(this,e,Pl,Ol,Ae,{data:4})}}export{Wl as default};
