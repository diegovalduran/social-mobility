import{S as Ut,i as Nt,s as At,k as h,a as k,l as p,m as v,c as S,h as r,n as i,E as ua,b as ce,C as l,J as Ne,H as lt,q,r as W,u as Ge,ai as Ja,F as De,w as ne,aj as oe,y as Le,z as Ve,a6 as Xa,A as Be,ak as ca,al as Pe,am as ie,an as Ze,g as we,d as ye,B as Ue,I as Bl,ao as Ka,v as Qa,f as xa,ab as ha,o as $a,ac as es}from"../chunks/index.73aa4fa5.js";import{S as ts,o as Ta,b as ls,M as as,c as ss,e as ns,f as os}from"../chunks/version.31783469.js";import{b as is}from"../chunks/paths.468fcf81.js";function pa(e,a,t){const n=e.slice();return n[12]=a[t],n}function va(e){let a,t;return{c(){a=h("div"),t=q(e[1]),this.h()},l(n){a=p(n,"DIV",{class:!0,id:!0});var o=v(a);t=W(o,e[1]),o.forEach(r),this.h()},h(){i(a,"class","legend svelte-11ruttv"),i(a,"id","legend-"+e[6])},m(n,o){ce(n,a,o),l(a,t)},p(n,o){o&2&&Ge(t,n[1])},d(n){n&&r(a)}}}function fa(e){let a,t,n,o,c=!1,f,d,m=(e[12].label||e[12].value)+"",I,g,w,T,P,_,E;return P=Ja(e[10][0]),{c(){a=h("div"),t=h("input"),f=k(),d=h("label"),I=q(m),T=k(),this.h()},l(B){a=p(B,"DIV",{class:!0});var D=v(a);t=p(D,"INPUT",{type:!0,id:!0,name:!0,class:!0}),f=S(D),d=p(D,"LABEL",{class:!0,for:!0});var j=v(d);I=W(j,m),j.forEach(r),T=S(D),D.forEach(r),this.h()},h(){i(t,"type","radio"),i(t,"id",n=`${e[6]}-${e[12].slug}`),i(t,"name","name-"+e[6]),i(t,"class","sr-only svelte-11ruttv"),t.__value=o=e[12].value,t.value=t.__value,t.disabled=e[3],i(d,"class",g="option "+e[2]+" svelte-11ruttv"),i(d,"for",w=`${e[6]}-${e[12].slug}`),i(a,"class","option svelte-11ruttv"),P.p(t)},m(B,D){ce(B,a,D),l(a,t),t.checked=t.__value===e[0],l(a,f),l(a,d),l(d,I),l(a,T),_||(E=De(t,"change",e[9]),_=!0)},p(B,D){D&32&&n!==(n=`${B[6]}-${B[12].slug}`)&&i(t,"id",n),D&32&&o!==(o=B[12].value)&&(t.__value=o,t.value=t.__value,c=!0),D&8&&(t.disabled=B[3]),(c||D&33)&&(t.checked=t.__value===B[0]),D&32&&m!==(m=(B[12].label||B[12].value)+"")&&Ge(I,m),D&4&&g!==(g="option "+B[2]+" svelte-11ruttv")&&i(d,"class",g),D&32&&w!==(w=`${B[6]}-${B[12].slug}`)&&i(d,"for",w)},d(B){B&&r(a),P.r(),_=!1,E()}}}function rs(e){let a,t,n,o,c=e[1]&&va(e),f=e[5],d=[];for(let m=0;m<f.length;m+=1)d[m]=fa(pa(e,f,m));return{c(){a=h("div"),t=h("div"),c&&c.c(),n=k(),o=h("div");for(let m=0;m<d.length;m+=1)d[m].c();this.h()},l(m){a=p(m,"DIV",{class:!0});var I=v(a);t=p(I,"DIV",{id:!0,class:!0,role:!0,"aria-labelledby":!0});var g=v(t);c&&c.l(g),n=S(g),o=p(g,"DIV",{class:!0});var w=v(o);for(let T=0;T<d.length;T+=1)d[T].l(w);w.forEach(r),g.forEach(r),I.forEach(r),this.h()},h(){i(o,"class","options svelte-11ruttv"),i(t,"id",`group-${e[6]}`),i(t,"class","group svelte-11ruttv"),i(t,"role","radiogroup"),i(t,"aria-labelledby",`label-${e[6]}`),ua(t,"is-top",e[4]),i(a,"class","button-set svelte-11ruttv")},m(m,I){ce(m,a,I),l(a,t),c&&c.m(t,null),l(t,n),l(t,o);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(o,null)},p(m,[I]){if(m[1]?c?c.p(m,I):(c=va(m),c.c(),c.m(t,n)):c&&(c.d(1),c=null),I&109){f=m[5];let g;for(g=0;g<f.length;g+=1){const w=pa(m,f,g);d[g]?d[g].p(w,I):(d[g]=fa(w),d[g].c(),d[g].m(o,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=f.length}I&16&&ua(t,"is-top",m[4])},i:Ne,o:Ne,d(m){m&&r(a),c&&c.d(),lt(d,m)}}}function us(e,a,t){let n,o,{options:c=[]}=a,{legend:f=""}=a,{legendPosition:d="top"}=a,{labelClass:m=""}=a,{disabled:I=!1}=a,{value:g=c.length?c[0].value:""}=a;const w=`legend-${Math.floor(Math.random()*1e6)}`,T=(E="")=>`${E}`.toLowerCase().replace(/\W/g,""),P=[[]];function _(){g=this.__value,t(0,g)}return e.$$set=E=>{"options"in E&&t(7,c=E.options),"legend"in E&&t(1,f=E.legend),"legendPosition"in E&&t(8,d=E.legendPosition),"labelClass"in E&&t(2,m=E.labelClass),"disabled"in E&&t(3,I=E.disabled),"value"in E&&t(0,g=E.value)},e.$$.update=()=>{e.$$.dirty&128&&t(5,n=c.map(E=>({...E,val:E.value,slug:T(E.value)}))),e.$$.dirty&256&&t(4,o=d==="top")},[g,f,m,I,o,n,w,c,d,_,P]}class Vl extends Ut{constructor(a){super(),Nt(this,a,us,rs,At,{options:7,legend:1,legendPosition:8,labelClass:2,disabled:3,value:0})}}function cs(e){let a,t,n,o,c,f,d,m,I,g,w,T,P,_,E,B,D,j,U,R,C,N,O,ee,G,Z,L,K,se,qe,x,F,We,$,X,Ie,he,ke,pe,Me,re,V,z,te;function le(A){e[4](A)}let b={legend:"scale type",options:[{value:"scalePow"},{value:"scaleLog"}]};return e[0]!==void 0&&(b.value=e[0]),d=new Vl({props:b}),ne.push(()=>oe(d,"value",le)),{c(){a=h("div"),t=h("fieldset"),n=h("legend"),o=q(e[3]),c=k(),f=h("div"),Le(d.$$.fragment),I=k(),g=h("div"),w=h("p"),T=q("Exponent"),P=k(),_=h("select"),E=h("option"),B=q("0.1"),D=h("option"),j=q("0.25"),U=h("option"),R=q("0.5"),C=h("option"),N=q("0.67"),O=h("option"),ee=q("0.75"),G=h("option"),Z=q("1"),L=h("option"),K=q("2"),qe=k(),x=h("div"),F=h("p"),We=q("Min"),$=k(),X=h("input"),Ie=k(),he=h("div"),ke=h("p"),pe=q("Max"),Me=k(),re=h("input"),this.h()},l(A){a=p(A,"DIV",{class:!0});var H=v(a);t=p(H,"FIELDSET",{class:!0});var J=v(t);n=p(J,"LEGEND",{class:!0});var ue=v(n);o=W(ue,e[3]),ue.forEach(r),c=S(J),f=p(J,"DIV",{class:!0});var Ae=v(f);Ve(d.$$.fragment,Ae),Ae.forEach(r),I=S(J),g=p(J,"DIV",{class:!0});var Je=v(g);w=p(Je,"P",{class:!0});var ut=v(w);T=W(ut,"Exponent"),ut.forEach(r),P=S(Je),_=p(Je,"SELECT",{class:!0});var ve=v(_);E=p(ve,"OPTION",{});var Xe=v(E);B=W(Xe,"0.1"),Xe.forEach(r),D=p(ve,"OPTION",{});var ct=v(D);j=W(ct,"0.25"),ct.forEach(r),U=p(ve,"OPTION",{});var ht=v(U);R=W(ht,"0.5"),ht.forEach(r),C=p(ve,"OPTION",{});var ze=v(C);N=W(ze,"0.67"),ze.forEach(r),O=p(ve,"OPTION",{});var pt=v(O);ee=W(pt,"0.75"),pt.forEach(r),G=p(ve,"OPTION",{});var Te=v(G);Z=W(Te,"1"),Te.forEach(r),L=p(ve,"OPTION",{});var Fe=v(L);K=W(Fe,"2"),Fe.forEach(r),ve.forEach(r),Je.forEach(r),qe=S(J),x=p(J,"DIV",{class:!0});var Ke=v(x);F=p(Ke,"P",{class:!0});var vt=v(F);We=W(vt,"Min"),vt.forEach(r),$=S(Ke),X=p(Ke,"INPUT",{type:!0,class:!0}),Ke.forEach(r),Ie=S(J),he=p(J,"DIV",{class:!0});var Oe=v(he);ke=p(Oe,"P",{class:!0});var Se=v(ke);pe=W(Se,"Max"),Se.forEach(r),Me=S(Oe),re=p(Oe,"INPUT",{type:!0,class:!0}),Oe.forEach(r),J.forEach(r),H.forEach(r),this.h()},h(){i(n,"class","sr-only svelte-pt4l48"),i(f,"class","scale svelte-pt4l48"),i(w,"class","svelte-pt4l48"),E.__value="0.1",E.value=E.__value,D.__value="0.25",D.value=D.__value,U.__value="0.5",U.value=U.__value,C.__value="0.67",C.value=C.__value,O.__value="0.75",O.value=O.__value,G.__value="1",G.value=G.__value,L.__value="2",L.value=L.__value,_.disabled=se=e[0]==="scaleLog",i(_,"class","svelte-pt4l48"),e[1]===void 0&&Xa(()=>e[5].call(_)),i(g,"class","a exponent svelte-pt4l48"),i(F,"class","svelte-pt4l48"),i(X,"type","number"),i(X,"class","svelte-pt4l48"),i(x,"class","a bound svelte-pt4l48"),i(ke,"class","svelte-pt4l48"),i(re,"type","number"),i(re,"class","svelte-pt4l48"),i(he,"class","a bound svelte-pt4l48"),i(t,"class","svelte-pt4l48"),i(a,"class","method-scale svelte-pt4l48")},m(A,H){ce(A,a,H),l(a,t),l(t,n),l(n,o),l(t,c),l(t,f),Be(d,f,null),l(t,I),l(t,g),l(g,w),l(w,T),l(g,P),l(g,_),l(_,E),l(E,B),l(_,D),l(D,j),l(_,U),l(U,R),l(_,C),l(C,N),l(_,O),l(O,ee),l(_,G),l(G,Z),l(_,L),l(L,K),ca(_,e[1],!0),l(t,qe),l(t,x),l(x,F),l(F,We),l(x,$),l(x,X),Pe(X,e[2][0]),l(t,Ie),l(t,he),l(he,ke),l(ke,pe),l(he,Me),l(he,re),Pe(re,e[2][1]),V=!0,z||(te=[De(_,"change",e[5]),De(X,"input",e[6]),De(re,"input",e[7])],z=!0)},p(A,[H]){(!V||H&8)&&Ge(o,A[3]);const J={};!m&&H&1&&(m=!0,J.value=A[0],ie(()=>m=!1)),d.$set(J),(!V||H&1&&se!==(se=A[0]==="scaleLog"))&&(_.disabled=se),H&2&&ca(_,A[1]),H&4&&Ze(X.value)!==A[2][0]&&Pe(X,A[2][0]),H&4&&Ze(re.value)!==A[2][1]&&Pe(re,A[2][1])},i(A){V||(we(d.$$.fragment,A),V=!0)},o(A){ye(d.$$.fragment,A),V=!1},d(A){A&&r(a),Ue(d),z=!1,Bl(te)}}}function hs(e,a,t){let{legend:n}=a,{valueScale:o}=a,{valueExp:c}=a,{valueBounds:f}=a;function d(w){o=w,t(0,o)}function m(){c=Ka(this),t(1,c)}function I(){f[0]=Ze(this.value),t(2,f)}function g(){f[1]=Ze(this.value),t(2,f)}return e.$$set=w=>{"legend"in w&&t(3,n=w.legend),"valueScale"in w&&t(0,o=w.valueScale),"valueExp"in w&&t(1,c=w.valueExp),"valueBounds"in w&&t(2,f=w.valueBounds)},e.$$.update=()=>{e.$$.dirty&3},[o,c,f,n,d,m,I,g]}class Ll extends Ut{constructor(a){super(),Nt(this,a,hs,cs,At,{legend:3,valueScale:0,valueExp:1,valueBounds:2})}}function ps(e){let a,t,n,o,c,f,d,m,I,g,w,T,P,_,E,B,D,j,U,R,C,N,O,ee,G,Z,L,K,se,qe,x,F,We,$,X,Ie,he;function ke(V){e[6](V)}let pe={legend:"metric",options:[{value:"share"},{value:"score"},{value:"shareDelta"}]};e[0]!==void 0&&(pe.value=e[0]),d=new Vl({props:pe}),ne.push(()=>oe(d,"value",ke));function Me(V){e[7](V)}let re={legend:"scale relative to counties?",options:[{value:"yes"},{value:"no"}]};return e[1]!==void 0&&(re.value=e[1]),w=new Vl({props:re}),ne.push(()=>oe(w,"value",Me)),{c(){a=h("div"),t=h("fieldset"),n=h("legend"),o=q(e[5]),c=k(),f=h("div"),Le(d.$$.fragment),I=k(),g=h("div"),Le(w.$$.fragment),P=k(),_=h("div"),E=h("p"),B=q("Distance (weight: "),D=q(e[2]),j=q(")"),U=k(),R=h("input"),C=k(),N=h("p"),O=q("Population (weight: "),ee=q(e[3]),G=q(")"),Z=k(),L=h("input"),K=k(),se=h("p"),qe=q("Wiki Length (weight: "),x=q(e[4]),F=q(")"),We=k(),$=h("input"),this.h()},l(V){a=p(V,"DIV",{class:!0});var z=v(a);t=p(z,"FIELDSET",{class:!0});var te=v(t);n=p(te,"LEGEND",{class:!0});var le=v(n);o=W(le,e[5]),le.forEach(r),c=S(te),f=p(te,"DIV",{class:!0});var b=v(f);Ve(d.$$.fragment,b),b.forEach(r),I=S(te),g=p(te,"DIV",{class:!0});var A=v(g);Ve(w.$$.fragment,A),A.forEach(r),P=S(te),_=p(te,"DIV",{class:!0});var H=v(_);E=p(H,"P",{class:!0});var J=v(E);B=W(J,"Distance (weight: "),D=W(J,e[2]),j=W(J,")"),J.forEach(r),U=S(H),R=p(H,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),C=S(H),N=p(H,"P",{class:!0});var ue=v(N);O=W(ue,"Population (weight: "),ee=W(ue,e[3]),G=W(ue,")"),ue.forEach(r),Z=S(H),L=p(H,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),K=S(H),se=p(H,"P",{class:!0});var Ae=v(se);qe=W(Ae,"Wiki Length (weight: "),x=W(Ae,e[4]),F=W(Ae,")"),Ae.forEach(r),We=S(H),$=p(H,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),H.forEach(r),te.forEach(r),z.forEach(r),this.h()},h(){i(n,"class","sr-only svelte-13vwk2g"),i(f,"class","prop svelte-13vwk2g"),i(g,"class","scale svelte-13vwk2g"),i(E,"class","svelte-13vwk2g"),i(R,"type","range"),i(R,"step",.25),i(R,"min",0),i(R,"max",5),i(R,"class","svelte-13vwk2g"),i(N,"class","svelte-13vwk2g"),i(L,"type","range"),i(L,"step",.25),i(L,"min",0),i(L,"max",5),i(L,"class","svelte-13vwk2g"),i(se,"class","svelte-13vwk2g"),i($,"type","range"),i($,"step",.25),i($,"min",0),i($,"max",5),i($,"class","svelte-13vwk2g"),i(_,"class","weight svelte-13vwk2g"),i(t,"class","svelte-13vwk2g"),i(a,"class","method-value svelte-13vwk2g")},m(V,z){ce(V,a,z),l(a,t),l(t,n),l(n,o),l(t,c),l(t,f),Be(d,f,null),l(t,I),l(t,g),Be(w,g,null),l(t,P),l(t,_),l(_,E),l(E,B),l(E,D),l(E,j),l(_,U),l(_,R),Pe(R,e[2]),l(_,C),l(_,N),l(N,O),l(N,ee),l(N,G),l(_,Z),l(_,L),Pe(L,e[3]),l(_,K),l(_,se),l(se,qe),l(se,x),l(se,F),l(_,We),l(_,$),Pe($,e[4]),X=!0,Ie||(he=[De(R,"change",e[8]),De(R,"input",e[8]),De(L,"change",e[9]),De(L,"input",e[9]),De($,"change",e[10]),De($,"input",e[10])],Ie=!0)},p(V,[z]){(!X||z&32)&&Ge(o,V[5]);const te={};!m&&z&1&&(m=!0,te.value=V[0],ie(()=>m=!1)),d.$set(te);const le={};!T&&z&2&&(T=!0,le.value=V[1],ie(()=>T=!1)),w.$set(le),(!X||z&4)&&Ge(D,V[2]),z&4&&Pe(R,V[2]),(!X||z&8)&&Ge(ee,V[3]),z&8&&Pe(L,V[3]),(!X||z&16)&&Ge(x,V[4]),z&16&&Pe($,V[4])},i(V){X||(we(d.$$.fragment,V),we(w.$$.fragment,V),X=!0)},o(V){ye(d.$$.fragment,V),ye(w.$$.fragment,V),X=!1},d(V){V&&r(a),Ue(d),Ue(w),Ie=!1,Bl(he)}}}function vs(e,a,t){let{legend:n}=a,{valueProp:o}=a,{valueScale:c}=a,{valueWeightDist:f}=a,{valueWeightPop:d}=a,{valueWeightWiki:m}=a;function I(_){o=_,t(0,o)}function g(_){c=_,t(1,c)}function w(){f=Ze(this.value),t(2,f)}function T(){d=Ze(this.value),t(3,d)}function P(){m=Ze(this.value),t(4,m)}return e.$$set=_=>{"legend"in _&&t(5,n=_.legend),"valueProp"in _&&t(0,o=_.valueProp),"valueScale"in _&&t(1,c=_.valueScale),"valueWeightDist"in _&&t(2,f=_.valueWeightDist),"valueWeightPop"in _&&t(3,d=_.valueWeightPop),"valueWeightWiki"in _&&t(4,m=_.valueWeightWiki)},[o,c,f,d,m,n,I,g,w,T,P]}class fs extends Ut{constructor(a){super(),Nt(this,a,vs,ps,At,{legend:5,valueProp:0,valueScale:1,valueWeightDist:2,valueWeightPop:3,valueWeightWiki:4})}}function ds(e){let a,t,n,o,c,f,d,m,I,g,w,T,P,_,E,B,D,j,U,R,C;return{c(){a=h("div"),t=h("fieldset"),n=h("legend"),o=q(e[2]),c=k(),f=h("div"),d=h("p"),m=q("Score >= "),I=q(e[1]),g=q(" is 1"),w=k(),T=h("input"),P=k(),_=h("p"),E=q("Score >= "),B=q(e[0]),D=q(" is 0.75"),j=k(),U=h("input"),this.h()},l(N){a=p(N,"DIV",{class:!0});var O=v(a);t=p(O,"FIELDSET",{class:!0});var ee=v(t);n=p(ee,"LEGEND",{class:!0});var G=v(n);o=W(G,e[2]),G.forEach(r),c=S(ee),f=p(ee,"DIV",{class:!0});var Z=v(f);d=p(Z,"P",{class:!0});var L=v(d);m=W(L,"Score >= "),I=W(L,e[1]),g=W(L," is 1"),L.forEach(r),w=S(Z),T=p(Z,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),P=S(Z),_=p(Z,"P",{class:!0});var K=v(_);E=W(K,"Score >= "),B=W(K,e[0]),D=W(K," is 0.75"),K.forEach(r),j=S(Z),U=p(Z,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),Z.forEach(r),ee.forEach(r),O.forEach(r),this.h()},h(){i(n,"class","sr-only svelte-13vwk2g"),i(d,"class","svelte-13vwk2g"),i(T,"type","range"),i(T,"step",.01),i(T,"min",.01),i(T,"max",.99),i(T,"class","svelte-13vwk2g"),i(_,"class","svelte-13vwk2g"),i(U,"type","range"),i(U,"step",.01),i(U,"min",.01),i(U,"max",.99),i(U,"class","svelte-13vwk2g"),i(f,"class","threshold svelte-13vwk2g"),i(t,"class","svelte-13vwk2g"),i(a,"class","method-threshold svelte-13vwk2g")},m(N,O){ce(N,a,O),l(a,t),l(t,n),l(n,o),l(t,c),l(t,f),l(f,d),l(d,m),l(d,I),l(d,g),l(f,w),l(f,T),Pe(T,e[1]),l(f,P),l(f,_),l(_,E),l(_,B),l(_,D),l(f,j),l(f,U),Pe(U,e[0]),R||(C=[De(T,"change",e[3]),De(T,"input",e[3]),De(U,"change",e[4]),De(U,"input",e[4])],R=!0)},p(N,[O]){O&4&&Ge(o,N[2]),O&2&&Ge(I,N[1]),O&2&&Pe(T,N[1]),O&1&&Ge(B,N[0]),O&1&&Pe(U,N[0])},i:Ne,o:Ne,d(N){N&&r(a),R=!1,Bl(C)}}}function _s(e,a,t){let{legend:n}=a,{thresholdLower:o}=a,{thresholdUpper:c}=a;function f(){c=Ze(this.value),t(1,c)}function d(){o=Ze(this.value),t(0,o)}return e.$$set=m=>{"legend"in m&&t(2,n=m.legend),"thresholdLower"in m&&t(0,o=m.thresholdLower),"thresholdUpper"in m&&t(1,c=m.thresholdUpper)},[o,c,n,f,d]}class gs extends Ut{constructor(a){super(),Nt(this,a,_s,ds,At,{legend:2,thresholdLower:0,thresholdUpper:1})}}function da(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function _a(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ga(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ma(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function Ea(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ba(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function wa(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ka(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function Sa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function ya(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function Da(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function Pa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function qa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function Wa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=p(n,"P",{});var o=v(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ne,d(n){n&&r(a)}}}function Ia(e){let a,t,n;return t=new as({props:{counties:e[17],states:e[18],countiesMesh:e[19],statesMesh:e[20],nationMesh:e[21],placeData:e[16],placeName:e[22],scaleTypePop:e[0],scaleTypeWiki:e[1],scaleTypeDist:e[2],scaleExpPop:e[3],scaleExpWiki:e[4],scaleExpDist:e[5],scaleBoundsPop:e[6],scaleBoundsWiki:e[7],scaleBoundsDist:e[8],valueWeightDist:e[9],valueWeightPop:e[10],valueWeightWiki:e[11],thresholdLower:e[12],thresholdUpper:e[13],valueProp:e[14],valueScale:e[15]}}),{c(){a=h("div"),Le(t.$$.fragment),this.h()},l(o){a=p(o,"DIV",{class:!0});var c=v(a);Ve(t.$$.fragment,c),c.forEach(r),this.h()},h(){i(a,"class","top-score svelte-qcpqxp")},m(o,c){ce(o,a,c),Be(t,a,null),n=!0},p(o,c){const f={};c[0]&131072&&(f.counties=o[17]),c[0]&262144&&(f.states=o[18]),c[0]&524288&&(f.countiesMesh=o[19]),c[0]&1048576&&(f.statesMesh=o[20]),c[0]&2097152&&(f.nationMesh=o[21]),c[0]&65536&&(f.placeData=o[16]),c[0]&4194304&&(f.placeName=o[22]),c[0]&1&&(f.scaleTypePop=o[0]),c[0]&2&&(f.scaleTypeWiki=o[1]),c[0]&4&&(f.scaleTypeDist=o[2]),c[0]&8&&(f.scaleExpPop=o[3]),c[0]&16&&(f.scaleExpWiki=o[4]),c[0]&32&&(f.scaleExpDist=o[5]),c[0]&64&&(f.scaleBoundsPop=o[6]),c[0]&128&&(f.scaleBoundsWiki=o[7]),c[0]&256&&(f.scaleBoundsDist=o[8]),c[0]&512&&(f.valueWeightDist=o[9]),c[0]&1024&&(f.valueWeightPop=o[10]),c[0]&2048&&(f.valueWeightWiki=o[11]),c[0]&4096&&(f.thresholdLower=o[12]),c[0]&8192&&(f.thresholdUpper=o[13]),c[0]&16384&&(f.valueProp=o[14]),c[0]&32768&&(f.valueScale=o[15]),t.$set(f)},i(o){n||(we(t.$$.fragment,o),n=!0)},o(o){ye(t.$$.fragment,o),n=!1},d(o){o&&r(a),Ue(t)}}}function ms(e){let a,t,n,o,c=e[23].hed+"",f,d,m=e[23].dek+"",I,g,w,T,P,_,E,B,D,j,U,R,C,N,O,ee,G,Z,L,K,se,qe,x,F,We,$,X,Ie,he,ke,pe,Me,re,V,z,te,le,b,A,H,J,ue,Ae,Je,ut,ve,Xe,ct,ht,ze,pt,Te,Fe,Ke,vt,Oe,Se,ll,al,sl,nl,Qe,Ot,ol,il,at,rl,Re,ft,ul,cl,dt,He,hl,pl,vl,fl,xe,Ht,dl,_l,st,gl,Ye,_t,ml,El,gt,Ce,bl,wl,kl,Sl,$e,Ct,yl,Dl,nt,Pl,et,mt,ql,Wl,je,zt,Il,Ml,ot,Rt,it,tt,Yt;E=new ts({props:{options:Ta}}),E.$on("change",e[26]);let Et=e[23].miscExplanation,fe=[];for(let s=0;s<Et.length;s+=1)fe[s]=ka(wa(e,Et,s));function La(s){e[27](s)}function Va(s){e[28](s)}function Ba(s){e[29](s)}function Ua(s){e[30](s)}function Na(s){e[31](s)}let bt={legend:"Value"};e[14]!==void 0&&(bt.valueProp=e[14]),e[15]!==void 0&&(bt.valueScale=e[15]),e[9]!==void 0&&(bt.valueWeightDist=e[9]),e[10]!==void 0&&(bt.valueWeightPop=e[10]),e[11]!==void 0&&(bt.valueWeightWiki=e[11]),F=new fs({props:bt}),ne.push(()=>oe(F,"valueProp",La)),ne.push(()=>oe(F,"valueScale",Va)),ne.push(()=>oe(F,"valueWeightDist",Ba)),ne.push(()=>oe(F,"valueWeightPop",Ua)),ne.push(()=>oe(F,"valueWeightWiki",Na));let wt=e[23].valueExplanation,de=[];for(let s=0;s<wt.length;s+=1)de[s]=Sa(ba(e,wt,s));function Aa(s){e[32](s)}function Oa(s){e[33](s)}let Tl={legend:"Opacity threshold"};e[12]!==void 0&&(Tl.thresholdLower=e[12]),e[13]!==void 0&&(Tl.thresholdUpper=e[13]),ue=new gs({props:Tl}),ne.push(()=>oe(ue,"thresholdLower",Aa)),ne.push(()=>oe(ue,"thresholdUpper",Oa));let kt=e[23].thresholdExplanation,_e=[];for(let s=0;s<kt.length;s+=1)_e[s]=ya(Ea(e,kt,s));function Ha(s){e[34](s)}function Ca(s){e[35](s)}function za(s){e[36](s)}let Gt={legend:"Distance Scale (mi)"};e[2]!==void 0&&(Gt.valueScale=e[2]),e[5]!==void 0&&(Gt.valueExp=e[5]),e[8]!==void 0&&(Gt.valueBounds=e[8]),Se=new Ll({props:Gt}),ne.push(()=>oe(Se,"valueScale",Ha)),ne.push(()=>oe(Se,"valueExp",Ca)),ne.push(()=>oe(Se,"valueBounds",za));let St=e[23].distanceExplanation,ge=[];for(let s=0;s<St.length;s+=1)ge[s]=Da(ma(e,St,s));function Ra(s){e[37](s)}function Ya(s){e[38](s)}function Ga(s){e[39](s)}let Ft={legend:"Population Scale (people)"};e[0]!==void 0&&(Ft.valueScale=e[0]),e[3]!==void 0&&(Ft.valueExp=e[3]),e[6]!==void 0&&(Ft.valueBounds=e[6]),He=new Ll({props:Ft}),ne.push(()=>oe(He,"valueScale",Ra)),ne.push(()=>oe(He,"valueExp",Ya)),ne.push(()=>oe(He,"valueBounds",Ga));let yt=e[23].populationExplanation,me=[];for(let s=0;s<yt.length;s+=1)me[s]=Pa(ga(e,yt,s));function Fa(s){e[40](s)}function ja(s){e[41](s)}function Za(s){e[42](s)}let jt={legend:"Wiki Scale (article length)"};e[1]!==void 0&&(jt.valueScale=e[1]),e[4]!==void 0&&(jt.valueExp=e[4]),e[7]!==void 0&&(jt.valueBounds=e[7]),Ce=new Ll({props:jt}),ne.push(()=>oe(Ce,"valueScale",Fa)),ne.push(()=>oe(Ce,"valueExp",ja)),ne.push(()=>oe(Ce,"valueBounds",Za));let Dt=e[23].wikiExplanation,Ee=[];for(let s=0;s<Dt.length;s+=1)Ee[s]=qa(_a(e,Dt,s));let Pt=e[23].miscExplanation,be=[];for(let s=0;s<Pt.length;s+=1)be[s]=Wa(da(e,Pt,s));let ae=e[16]&&Ia(e);return{c(){a=h("article"),t=h("section"),n=h("h1"),o=h("strong"),f=k(),d=h("p"),I=k(),g=h("p"),w=q("Increase your screen size or visit on desktop to customize the settings."),T=k(),P=h("section"),_=h("div"),Le(E.$$.fragment),B=k(),D=h("div"),j=h("h2"),U=q("Introduction"),R=k(),C=h("details"),N=h("summary"),O=q("Explanation"),ee=k(),G=h("div");for(let s=0;s<fe.length;s+=1)fe[s].c();Z=k(),L=h("div"),K=h("h2"),se=q("Value"),qe=k(),x=h("div"),Le(F.$$.fragment),ke=k(),pe=h("details"),Me=h("summary"),re=q("Explanation"),V=k(),z=h("div");for(let s=0;s<de.length;s+=1)de[s].c();te=k(),le=h("div"),b=h("h2"),A=q("Opacity Threshold"),H=k(),J=h("div"),Le(ue.$$.fragment),ut=k(),ve=h("details"),Xe=h("summary"),ct=q("Explanation"),ht=k(),ze=h("div");for(let s=0;s<_e.length;s+=1)_e[s].c();pt=k(),Te=h("div"),Fe=h("h2"),Ke=q("Distance Scale"),vt=k(),Oe=h("div"),Le(Se.$$.fragment),nl=k(),Qe=h("details"),Ot=h("summary"),ol=q("Explanation"),il=k(),at=h("div");for(let s=0;s<ge.length;s+=1)ge[s].c();rl=k(),Re=h("div"),ft=h("h2"),ul=q("Population Scale"),cl=k(),dt=h("div"),Le(He.$$.fragment),fl=k(),xe=h("details"),Ht=h("summary"),dl=q("Explanation"),_l=k(),st=h("div");for(let s=0;s<me.length;s+=1)me[s].c();gl=k(),Ye=h("div"),_t=h("h2"),ml=q("Wikipedia Article Scale"),El=k(),gt=h("div"),Le(Ce.$$.fragment),Sl=k(),$e=h("details"),Ct=h("summary"),yl=q("Explanation"),Dl=k(),nt=h("div");for(let s=0;s<Ee.length;s+=1)Ee[s].c();Pl=k(),et=h("div"),mt=h("h2"),ql=q("Miscellaneous Details"),Wl=k(),je=h("details"),zt=h("summary"),Il=q("Explanation"),Ml=k(),ot=h("div");for(let s=0;s<be.length;s+=1)be[s].c();Rt=k(),it=h("div"),tt=h("section"),ae&&ae.c(),this.h()},l(s){a=p(s,"ARTICLE",{class:!0});var M=v(a);t=p(M,"SECTION",{id:!0});var y=v(t);n=p(y,"H1",{class:!0});var qt=v(n);o=p(qt,"STRONG",{});var Wt=v(o);Wt.forEach(r),qt.forEach(r),f=S(y),d=p(y,"P",{});var It=v(d);It.forEach(r),I=S(y),g=p(y,"P",{class:!0});var rt=v(g);w=W(rt,"Increase your screen size or visit on desktop to customize the settings."),rt.forEach(r),y.forEach(r),T=S(M),P=p(M,"SECTION",{id:!0,class:!0});var u=v(P);_=p(u,"DIV",{class:!0});var Q=v(_);Ve(E.$$.fragment,Q),Q.forEach(r),B=S(u),D=p(u,"DIV",{class:!0});var Zt=v(D);j=p(Zt,"H2",{class:!0});var Ul=v(j);U=W(Ul,"Introduction"),Ul.forEach(r),R=S(Zt),C=p(Zt,"DETAILS",{class:!0});var Jt=v(C);N=p(Jt,"SUMMARY",{});var Nl=v(N);O=W(Nl,"Explanation"),Nl.forEach(r),ee=S(Jt),G=p(Jt,"DIV",{class:!0});var Al=v(G);for(let Y=0;Y<fe.length;Y+=1)fe[Y].l(Al);Al.forEach(r),Jt.forEach(r),Zt.forEach(r),Z=S(u),L=p(u,"DIV",{class:!0});var Mt=v(L);K=p(Mt,"H2",{class:!0});var Ol=v(K);se=W(Ol,"Value"),Ol.forEach(r),qe=S(Mt),x=p(Mt,"DIV",{class:!0});var Hl=v(x);Ve(F.$$.fragment,Hl),Hl.forEach(r),ke=S(Mt),pe=p(Mt,"DETAILS",{class:!0});var Xt=v(pe);Me=p(Xt,"SUMMARY",{});var Cl=v(Me);re=W(Cl,"Explanation"),Cl.forEach(r),V=S(Xt),z=p(Xt,"DIV",{class:!0});var zl=v(z);for(let Y=0;Y<de.length;Y+=1)de[Y].l(zl);zl.forEach(r),Xt.forEach(r),Mt.forEach(r),te=S(u),le=p(u,"DIV",{class:!0});var Tt=v(le);b=p(Tt,"H2",{class:!0});var Rl=v(b);A=W(Rl,"Opacity Threshold"),Rl.forEach(r),H=S(Tt),J=p(Tt,"DIV",{class:!0});var Yl=v(J);Ve(ue.$$.fragment,Yl),Yl.forEach(r),ut=S(Tt),ve=p(Tt,"DETAILS",{class:!0});var Kt=v(ve);Xe=p(Kt,"SUMMARY",{});var Gl=v(Xe);ct=W(Gl,"Explanation"),Gl.forEach(r),ht=S(Kt),ze=p(Kt,"DIV",{class:!0});var Fl=v(ze);for(let Y=0;Y<_e.length;Y+=1)_e[Y].l(Fl);Fl.forEach(r),Kt.forEach(r),Tt.forEach(r),pt=S(u),Te=p(u,"DIV",{class:!0});var Lt=v(Te);Fe=p(Lt,"H2",{class:!0});var jl=v(Fe);Ke=W(jl,"Distance Scale"),jl.forEach(r),vt=S(Lt),Oe=p(Lt,"DIV",{class:!0});var Zl=v(Oe);Ve(Se.$$.fragment,Zl),Zl.forEach(r),nl=S(Lt),Qe=p(Lt,"DETAILS",{class:!0});var Qt=v(Qe);Ot=p(Qt,"SUMMARY",{});var Jl=v(Ot);ol=W(Jl,"Explanation"),Jl.forEach(r),il=S(Qt),at=p(Qt,"DIV",{class:!0});var Xl=v(at);for(let Y=0;Y<ge.length;Y+=1)ge[Y].l(Xl);Xl.forEach(r),Qt.forEach(r),Lt.forEach(r),rl=S(u),Re=p(u,"DIV",{class:!0});var Vt=v(Re);ft=p(Vt,"H2",{class:!0});var Kl=v(ft);ul=W(Kl,"Population Scale"),Kl.forEach(r),cl=S(Vt),dt=p(Vt,"DIV",{class:!0});var Ql=v(dt);Ve(He.$$.fragment,Ql),Ql.forEach(r),fl=S(Vt),xe=p(Vt,"DETAILS",{class:!0});var xt=v(xe);Ht=p(xt,"SUMMARY",{});var xl=v(Ht);dl=W(xl,"Explanation"),xl.forEach(r),_l=S(xt),st=p(xt,"DIV",{class:!0});var $l=v(st);for(let Y=0;Y<me.length;Y+=1)me[Y].l($l);$l.forEach(r),xt.forEach(r),Vt.forEach(r),gl=S(u),Ye=p(u,"DIV",{class:!0});var Bt=v(Ye);_t=p(Bt,"H2",{class:!0});var ea=v(_t);ml=W(ea,"Wikipedia Article Scale"),ea.forEach(r),El=S(Bt),gt=p(Bt,"DIV",{class:!0});var ta=v(gt);Ve(Ce.$$.fragment,ta),ta.forEach(r),Sl=S(Bt),$e=p(Bt,"DETAILS",{class:!0});var $t=v($e);Ct=p($t,"SUMMARY",{});var la=v(Ct);yl=W(la,"Explanation"),la.forEach(r),Dl=S($t),nt=p($t,"DIV",{class:!0});var aa=v(nt);for(let Y=0;Y<Ee.length;Y+=1)Ee[Y].l(aa);aa.forEach(r),$t.forEach(r),Bt.forEach(r),Pl=S(u),et=p(u,"DIV",{class:!0});var el=v(et);mt=p(el,"H2",{class:!0});var sa=v(mt);ql=W(sa,"Miscellaneous Details"),sa.forEach(r),Wl=S(el),je=p(el,"DETAILS",{class:!0});var tl=v(je);zt=p(tl,"SUMMARY",{});var na=v(zt);Il=W(na,"Explanation"),na.forEach(r),Ml=S(tl),ot=p(tl,"DIV",{class:!0});var oa=v(ot);for(let Y=0;Y<be.length;Y+=1)be[Y].l(oa);oa.forEach(r),tl.forEach(r),el.forEach(r),u.forEach(r),M.forEach(r),Rt=S(s),it=p(s,"DIV",{class:!0});var ia=v(it);tt=p(ia,"SECTION",{id:!0,class:!0});var ra=v(tt);ae&&ae.l(ra),ra.forEach(r),ia.forEach(r),this.h()},h(){i(n,"class","svelte-qcpqxp"),i(g,"class","small svelte-qcpqxp"),i(t,"id","title"),i(_,"class","select"),i(j,"class","svelte-qcpqxp"),i(G,"class","inner svelte-qcpqxp"),C.open=!0,i(C,"class","svelte-qcpqxp"),i(D,"class","play svelte-qcpqxp"),i(K,"class","svelte-qcpqxp"),i(x,"class","customize svelte-qcpqxp"),i(z,"class","inner svelte-qcpqxp"),i(pe,"class","svelte-qcpqxp"),i(L,"class","play svelte-qcpqxp"),i(b,"class","svelte-qcpqxp"),i(J,"class","customize svelte-qcpqxp"),i(ze,"class","inner svelte-qcpqxp"),i(ve,"class","svelte-qcpqxp"),i(le,"class","play svelte-qcpqxp"),i(Fe,"class","svelte-qcpqxp"),i(Oe,"class","customize svelte-qcpqxp"),i(at,"class","inner svelte-qcpqxp"),i(Qe,"class","svelte-qcpqxp"),i(Te,"class","play svelte-qcpqxp"),i(ft,"class","svelte-qcpqxp"),i(dt,"class","customize svelte-qcpqxp"),i(st,"class","inner svelte-qcpqxp"),i(xe,"class","svelte-qcpqxp"),i(Re,"class","play svelte-qcpqxp"),i(_t,"class","svelte-qcpqxp"),i(gt,"class","customize svelte-qcpqxp"),i(nt,"class","inner svelte-qcpqxp"),i($e,"class","svelte-qcpqxp"),i(Ye,"class","play svelte-qcpqxp"),i(mt,"class","svelte-qcpqxp"),i(ot,"class","inner svelte-qcpqxp"),je.open=!0,i(je,"class","svelte-qcpqxp"),i(et,"class","play svelte-qcpqxp"),i(P,"id","ui"),i(P,"class","svelte-qcpqxp"),i(a,"class","method svelte-qcpqxp"),i(tt,"id","maps"),i(tt,"class","svelte-qcpqxp"),i(it,"class","figure method svelte-qcpqxp")},m(s,M){ce(s,a,M),l(a,t),l(t,n),l(n,o),o.innerHTML=c,l(t,f),l(t,d),d.innerHTML=m,l(t,I),l(t,g),l(g,w),l(a,T),l(a,P),l(P,_),Be(E,_,null),l(P,B),l(P,D),l(D,j),l(j,U),l(D,R),l(D,C),l(C,N),l(N,O),l(C,ee),l(C,G);for(let y=0;y<fe.length;y+=1)fe[y]&&fe[y].m(G,null);l(P,Z),l(P,L),l(L,K),l(K,se),l(L,qe),l(L,x),Be(F,x,null),l(L,ke),l(L,pe),l(pe,Me),l(Me,re),l(pe,V),l(pe,z);for(let y=0;y<de.length;y+=1)de[y]&&de[y].m(z,null);l(P,te),l(P,le),l(le,b),l(b,A),l(le,H),l(le,J),Be(ue,J,null),l(le,ut),l(le,ve),l(ve,Xe),l(Xe,ct),l(ve,ht),l(ve,ze);for(let y=0;y<_e.length;y+=1)_e[y]&&_e[y].m(ze,null);l(P,pt),l(P,Te),l(Te,Fe),l(Fe,Ke),l(Te,vt),l(Te,Oe),Be(Se,Oe,null),l(Te,nl),l(Te,Qe),l(Qe,Ot),l(Ot,ol),l(Qe,il),l(Qe,at);for(let y=0;y<ge.length;y+=1)ge[y]&&ge[y].m(at,null);l(P,rl),l(P,Re),l(Re,ft),l(ft,ul),l(Re,cl),l(Re,dt),Be(He,dt,null),l(Re,fl),l(Re,xe),l(xe,Ht),l(Ht,dl),l(xe,_l),l(xe,st);for(let y=0;y<me.length;y+=1)me[y]&&me[y].m(st,null);l(P,gl),l(P,Ye),l(Ye,_t),l(_t,ml),l(Ye,El),l(Ye,gt),Be(Ce,gt,null),l(Ye,Sl),l(Ye,$e),l($e,Ct),l(Ct,yl),l($e,Dl),l($e,nt);for(let y=0;y<Ee.length;y+=1)Ee[y]&&Ee[y].m(nt,null);l(P,Pl),l(P,et),l(et,mt),l(mt,ql),l(et,Wl),l(et,je),l(je,zt),l(zt,Il),l(je,Ml),l(je,ot);for(let y=0;y<be.length;y+=1)be[y]&&be[y].m(ot,null);ce(s,Rt,M),ce(s,it,M),l(it,tt),ae&&ae.m(tt,null),Yt=!0},p(s,M){if(M[0]&8388608){Et=s[23].miscExplanation;let u;for(u=0;u<Et.length;u+=1){const Q=wa(s,Et,u);fe[u]?fe[u].p(Q,M):(fe[u]=ka(Q),fe[u].c(),fe[u].m(G,null))}for(;u<fe.length;u+=1)fe[u].d(1);fe.length=Et.length}const y={};if(!We&&M[0]&16384&&(We=!0,y.valueProp=s[14],ie(()=>We=!1)),!$&&M[0]&32768&&($=!0,y.valueScale=s[15],ie(()=>$=!1)),!X&&M[0]&512&&(X=!0,y.valueWeightDist=s[9],ie(()=>X=!1)),!Ie&&M[0]&1024&&(Ie=!0,y.valueWeightPop=s[10],ie(()=>Ie=!1)),!he&&M[0]&2048&&(he=!0,y.valueWeightWiki=s[11],ie(()=>he=!1)),F.$set(y),M[0]&8388608){wt=s[23].valueExplanation;let u;for(u=0;u<wt.length;u+=1){const Q=ba(s,wt,u);de[u]?de[u].p(Q,M):(de[u]=Sa(Q),de[u].c(),de[u].m(z,null))}for(;u<de.length;u+=1)de[u].d(1);de.length=wt.length}const qt={};if(!Ae&&M[0]&4096&&(Ae=!0,qt.thresholdLower=s[12],ie(()=>Ae=!1)),!Je&&M[0]&8192&&(Je=!0,qt.thresholdUpper=s[13],ie(()=>Je=!1)),ue.$set(qt),M[0]&8388608){kt=s[23].thresholdExplanation;let u;for(u=0;u<kt.length;u+=1){const Q=Ea(s,kt,u);_e[u]?_e[u].p(Q,M):(_e[u]=ya(Q),_e[u].c(),_e[u].m(ze,null))}for(;u<_e.length;u+=1)_e[u].d(1);_e.length=kt.length}const Wt={};if(!ll&&M[0]&4&&(ll=!0,Wt.valueScale=s[2],ie(()=>ll=!1)),!al&&M[0]&32&&(al=!0,Wt.valueExp=s[5],ie(()=>al=!1)),!sl&&M[0]&256&&(sl=!0,Wt.valueBounds=s[8],ie(()=>sl=!1)),Se.$set(Wt),M[0]&8388608){St=s[23].distanceExplanation;let u;for(u=0;u<St.length;u+=1){const Q=ma(s,St,u);ge[u]?ge[u].p(Q,M):(ge[u]=Da(Q),ge[u].c(),ge[u].m(at,null))}for(;u<ge.length;u+=1)ge[u].d(1);ge.length=St.length}const It={};if(!hl&&M[0]&1&&(hl=!0,It.valueScale=s[0],ie(()=>hl=!1)),!pl&&M[0]&8&&(pl=!0,It.valueExp=s[3],ie(()=>pl=!1)),!vl&&M[0]&64&&(vl=!0,It.valueBounds=s[6],ie(()=>vl=!1)),He.$set(It),M[0]&8388608){yt=s[23].populationExplanation;let u;for(u=0;u<yt.length;u+=1){const Q=ga(s,yt,u);me[u]?me[u].p(Q,M):(me[u]=Pa(Q),me[u].c(),me[u].m(st,null))}for(;u<me.length;u+=1)me[u].d(1);me.length=yt.length}const rt={};if(!bl&&M[0]&2&&(bl=!0,rt.valueScale=s[1],ie(()=>bl=!1)),!wl&&M[0]&16&&(wl=!0,rt.valueExp=s[4],ie(()=>wl=!1)),!kl&&M[0]&128&&(kl=!0,rt.valueBounds=s[7],ie(()=>kl=!1)),Ce.$set(rt),M[0]&8388608){Dt=s[23].wikiExplanation;let u;for(u=0;u<Dt.length;u+=1){const Q=_a(s,Dt,u);Ee[u]?Ee[u].p(Q,M):(Ee[u]=qa(Q),Ee[u].c(),Ee[u].m(nt,null))}for(;u<Ee.length;u+=1)Ee[u].d(1);Ee.length=Dt.length}if(M[0]&8388608){Pt=s[23].miscExplanation;let u;for(u=0;u<Pt.length;u+=1){const Q=da(s,Pt,u);be[u]?be[u].p(Q,M):(be[u]=Wa(Q),be[u].c(),be[u].m(ot,null))}for(;u<be.length;u+=1)be[u].d(1);be.length=Pt.length}s[16]?ae?(ae.p(s,M),M[0]&65536&&we(ae,1)):(ae=Ia(s),ae.c(),we(ae,1),ae.m(tt,null)):ae&&(Qa(),ye(ae,1,1,()=>{ae=null}),xa())},i(s){Yt||(we(E.$$.fragment,s),we(F.$$.fragment,s),we(ue.$$.fragment,s),we(Se.$$.fragment,s),we(He.$$.fragment,s),we(Ce.$$.fragment,s),we(ae),Yt=!0)},o(s){ye(E.$$.fragment,s),ye(F.$$.fragment,s),ye(ue.$$.fragment,s),ye(Se.$$.fragment,s),ye(He.$$.fragment,s),ye(Ce.$$.fragment,s),ye(ae),Yt=!1},d(s){s&&r(a),Ue(E),lt(fe,s),Ue(F),lt(de,s),Ue(ue),lt(_e,s),Ue(Se),lt(ge,s),Ue(He),lt(me,s),Ue(Ce),lt(Ee,s),lt(be,s),s&&r(Rt),s&&r(it),ae&&ae.d()}}}function Es(e,a,t){const n=ha("copy");ha("data");let o="scalePow",c="scalePow",f="scaleLog",d="0.5",m="0.5",I="1",g=[0,22933531],w=[0,96911],T=[50,300],P=2,_=1,E=1,B=.02,D=.05,j="shareDelta",U="no",R,C,N,O,ee,G,Z,L;function K({name:b,phoneme:A}){t(25,Z=A),t(22,L=b)}$a(async()=>{try{const b=await ls();t(17,C=b.counties),t(18,N=b.states),t(19,O=b.countiesMesh),t(20,ee=b.statesMesh),t(21,G=b.nationMesh);const A=Ta.find(H=>H.name==="Portland");K(A)}catch(b){console.log(b)}});const se=({detail:b})=>K(b);function qe(b){j=b,t(14,j)}function x(b){U=b,t(15,U)}function F(b){P=b,t(9,P)}function We(b){_=b,t(10,_)}function $(b){E=b,t(11,E)}function X(b){B=b,t(12,B)}function Ie(b){D=b,t(13,D)}function he(b){f=b,t(2,f)}function ke(b){I=b,t(5,I)}function pe(b){T=b,t(8,T)}function Me(b){o=b,t(0,o)}function re(b){d=b,t(3,d)}function V(b){g=b,t(6,g)}function z(b){c=b,t(1,c)}function te(b){m=b,t(4,m)}function le(b){w=b,t(7,w)}return e.$$.update=()=>{e.$$.dirty[0]&33554432&&Z&&(async()=>t(16,R=await ss(`${is}/assets/places/${Z}.csv?2023-03-17-09:53`)))()},[o,c,f,d,m,I,g,w,T,P,_,E,B,D,j,U,R,C,N,O,ee,G,L,n,K,Z,se,qe,x,F,We,$,X,Ie,he,ke,pe,Me,re,V,z,te,le]}class bs extends Ut{constructor(a){super(),Nt(this,a,Es,ms,At,{},null,[-1,-1])}}const ws="https://pudding.cool/2023/03/same-name/method",ks="Data and Methods",Ss="An interactive explainer for how we made A Map of Places with the Same Name",ys="Data &amp; Methods",Ds="An interactive explainer for the choices in <br> <a href=../>A Map of Places with the Same Name</a>",Ps="<strong># of Counties</strong> is how many times that place is the top ranked place above the <strong>maybe</strong> threshold.",qs="<strong>Share Margin</strong> is the difference between the scores (as percent share) of the top two ranked places.",Ws=[{text:"<strong>Distance</strong>: the proximity to a place."},{text:"<strong>Population</strong>: the size of a place is a pretty good indicator of its importance."},{text:"<strong>Wikipedia article length</strong>: an extra layer of nuance for the cultural importance/awareness of places that may not have a large population."}],Is=[{type:"text",value:"There are a few different metrics we computed to see what matched our intuition the best:"},{type:"text",value:"<strong>score:</strong> the raw numerical score as calculated according to the three properties."},{type:"text",value:"<strong>share:</strong> the score as a percent of the sum of all place scores for each county."},{type:"text",value:"<strong>shareDelta:</strong> how much bigger the highest score is than the next highest."},{type:"text",value:"<strong>Score</strong> on its own looks at things in isolation so that felt too siloed. When then tried <strong>share</strong> because it accounted for the effects of adding more places to the mix and giving each a bit of gravity. We ended up using <strong>shareDelta</strong> because of the small nuance it added. There are often times when two or more place shares are quite high, but since we only pick the top one the others are drowned out. By looking at <em>how much</em> higher the top one is, it better reflects the likelihood of one place over another."},{type:"text",value:"<strong>Scale relative to counties</strong> basically means to look at that value compared to all results or independently. Say for example The maximum <strong>share</strong> for any county is 40. We would then normalize all county values to that. So a share of 20 would actually mean a value of 50%."},{type:"text",value:"We chose to weight distance more heavily because we wanted to make it so if you are in or near the place you are referring to, it should always win, regardless of how big an external place is."}],Ms=[{type:"text",value:"Based on the resulting value from above, which ones get the full opacity (probably) and which get reduced opacity (maybe). The right values here are the most driven by feel, and vary greatly depending on which metrics you select above and if the scores are relative or not."}],Ts=[{type:"text",value:"We chose a logarithmic scale because it felt most accurate: if you are really close to a place its gravity should be felt more heavily than if you get farther away. Anything under the minimum (we chose 50 miles) gets the highest score (1), anything over the maximum (300 miles) gets 0."}],Ls=[{type:"text",value:"Like distance, we chose to clamp the maximum value here. At a certain size, there is really little distinction. We chose to use a computed threshold as our max clamp of the top 0.1% percentile. We also chose an exponential scale to curb the effects of the lopsided distribution, so the medium-sized places still have some weight and aren’t lumped with the places with very low numbers."}],Vs=[{type:"text",value:"Like distance, we chose to clamp the maximum value here. At a certain size, there is really little distinction. We chose to use a computed threshold as our max clamp of the top 0.1% percentile. We also chose an exponential scale to curb the effects of the lopsided distribution, so the medium-sized places still have some weight and aren’t lumped with the places with very low numbers."}],Bs=[{type:"text",value:"We conceived of this project thinking about how people talk about places, so  they are grouped together if they share either the same spelling or pronunciation (using phoneme matching)."},{type:"text",value:"We only used international cities with populations over 100,000 since it is unlikely that smaller ones are well-known to most people in the US."},{type:"text",value:"Although places can be in multiple counties, we are only displaying the first one for brevity."},{type:"text",value:"We used an amalgamation of data sources:"},{type:"text",value:"<a href=https://www.uscitieslist.org/ target=blank rel=noreferrer>Incorporated US cities</a>"},{type:"text",value:"<a href=https://en.wikipedia.org/wiki/Category:Unincorporated_communities_in_the_United_States_by_county target=_blank rel=noreferrer>Unincorporated US cities</a>"},{type:"text",value:"<a href=https://www.census.gov/data-tools/demo/idb/#/table?COUNTRY_YEAR=2023&COUNTRY_YR_ANIM=2023 target=blank rel=noreferrer>Countries</a>"},{type:"text",value:"<a href=https://simplemaps.com/data/world-cities target=blank rel=noreferrer>International cities</a>"},{type:"text",value:"<a href=https://www.census.gov/data/tables/time-series/demo/popest/2020s-national-total.html target=blank rel=noreferrer>States</a>"},{type:"text",value:"We are constantly updating the data, so if you spot something wrong with the places being used (or not), <a href=https://docs.google.com/spreadsheets/d/1cHtvcuxvxI6Y2hA5Xa2wg8AW0SZ7ZYG5H5x7H4jGLdk/edit#gid=0 target=_blank rel=noreferrer>help us improve it!</a>"}],Ma={url:ws,title:ks,description:Ss,hed:ys,dek:Ds,placeNote:Ps,countyNote:qs,introExplanation:Ws,valueExplanation:Is,thresholdExplanation:Ms,distanceExplanation:Ts,populationExplanation:Ls,wikiExplanation:Vs,miscExplanation:Bs};function Us(e){let a,t,n,o;return a=new ns({props:{title:e[0],description:e[1],url:e[2],keywords:e[3]}}),n=new bs({}),{c(){Le(a.$$.fragment),t=k(),Le(n.$$.fragment)},l(c){Ve(a.$$.fragment,c),t=S(c),Ve(n.$$.fragment,c)},m(c,f){Be(a,c,f),ce(c,t,f),Be(n,c,f),o=!0},p:Ne,i(c){o||(we(a.$$.fragment,c),we(n.$$.fragment,c),o=!0)},o(c){ye(a.$$.fragment,c),ye(n.$$.fragment,c),o=!1},d(c){Ue(a,c),c&&r(t),Ue(n,c)}}}function Ns(e){os();const{title:a,description:t,url:n,keywords:o}=Ma;return es("copy",Ma),[a,t,n,o]}class Cs extends Ut{constructor(a){super(),Nt(this,a,Ns,Us,At,{})}}export{Cs as default};
