import{S as Nt,i as At,s as Ot,k as h,a as y,l as v,m as d,c as k,h as r,n as i,E as ua,b as ce,C as l,J as Ae,H as lt,q as W,r as I,u as Fe,ai as Ja,F as De,w as ne,aj as oe,y as Ve,z as Be,a6 as Xa,A as Ue,ak as ca,al as Pe,am as ie,an as Ze,g as we,d as Se,B as Ne,I as Ul,ao as Ka,v as Qa,f as $a,ab as ha,o as xa,ac as es}from"../chunks/index.73aa4fa5.js";import{S as ts,o as La,b as ls,M as as,c as ss,e as ns,f as os}from"../chunks/version.f89070f7.js";import{b as is}from"../chunks/paths.0f9644c5.js";function va(e,a,t){const n=e.slice();return n[12]=a[t],n}function da(e){let a,t;return{c(){a=h("div"),t=W(e[1]),this.h()},l(n){a=v(n,"DIV",{class:!0,id:!0});var o=d(a);t=I(o,e[1]),o.forEach(r),this.h()},h(){i(a,"class","legend svelte-11ruttv"),i(a,"id","legend-"+e[6])},m(n,o){ce(n,a,o),l(a,t)},p(n,o){o&2&&Fe(t,n[1])},d(n){n&&r(a)}}}function fa(e){let a,t,n,o,c=!1,f,p,m=(e[12].label||e[12].value)+"",M,g,w,L,P,_,E;return P=Ja(e[10][0]),{c(){a=h("div"),t=h("input"),f=y(),p=h("label"),M=W(m),L=y(),this.h()},l(U){a=v(U,"DIV",{class:!0});var D=d(a);t=v(D,"INPUT",{type:!0,id:!0,name:!0,class:!0}),f=k(D),p=v(D,"LABEL",{class:!0,for:!0});var q=d(p);M=I(q,m),q.forEach(r),L=k(D),D.forEach(r),this.h()},h(){i(t,"type","radio"),i(t,"id",n=`${e[6]}-${e[12].slug}`),i(t,"name","name-"+e[6]),i(t,"class","sr-only svelte-11ruttv"),t.__value=o=e[12].value,t.value=t.__value,t.disabled=e[3],i(p,"class",g="option "+e[2]+" svelte-11ruttv"),i(p,"for",w=`${e[6]}-${e[12].slug}`),i(a,"class","option svelte-11ruttv"),P.p(t)},m(U,D){ce(U,a,D),l(a,t),t.checked=t.__value===e[0],l(a,f),l(a,p),l(p,M),l(a,L),_||(E=De(t,"change",e[9]),_=!0)},p(U,D){D&32&&n!==(n=`${U[6]}-${U[12].slug}`)&&i(t,"id",n),D&32&&o!==(o=U[12].value)&&(t.__value=o,t.value=t.__value,c=!0),D&8&&(t.disabled=U[3]),(c||D&33)&&(t.checked=t.__value===U[0]),D&32&&m!==(m=(U[12].label||U[12].value)+"")&&Fe(M,m),D&4&&g!==(g="option "+U[2]+" svelte-11ruttv")&&i(p,"class",g),D&32&&w!==(w=`${U[6]}-${U[12].slug}`)&&i(p,"for",w)},d(U){U&&r(a),P.r(),_=!1,E()}}}function rs(e){let a,t,n,o,c=e[1]&&da(e),f=e[5],p=[];for(let m=0;m<f.length;m+=1)p[m]=fa(va(e,f,m));return{c(){a=h("div"),t=h("div"),c&&c.c(),n=y(),o=h("div");for(let m=0;m<p.length;m+=1)p[m].c();this.h()},l(m){a=v(m,"DIV",{class:!0});var M=d(a);t=v(M,"DIV",{id:!0,class:!0,role:!0,"aria-labelledby":!0});var g=d(t);c&&c.l(g),n=k(g),o=v(g,"DIV",{class:!0});var w=d(o);for(let L=0;L<p.length;L+=1)p[L].l(w);w.forEach(r),g.forEach(r),M.forEach(r),this.h()},h(){i(o,"class","options svelte-11ruttv"),i(t,"id",`group-${e[6]}`),i(t,"class","group svelte-11ruttv"),i(t,"role","radiogroup"),i(t,"aria-labelledby",`label-${e[6]}`),ua(t,"is-top",e[4]),i(a,"class","button-set svelte-11ruttv")},m(m,M){ce(m,a,M),l(a,t),c&&c.m(t,null),l(t,n),l(t,o);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(o,null)},p(m,[M]){if(m[1]?c?c.p(m,M):(c=da(m),c.c(),c.m(t,n)):c&&(c.d(1),c=null),M&109){f=m[5];let g;for(g=0;g<f.length;g+=1){const w=va(m,f,g);p[g]?p[g].p(w,M):(p[g]=fa(w),p[g].c(),p[g].m(o,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=f.length}M&16&&ua(t,"is-top",m[4])},i:Ae,o:Ae,d(m){m&&r(a),c&&c.d(),lt(p,m)}}}function us(e,a,t){let n,o,{options:c=[]}=a,{legend:f=""}=a,{legendPosition:p="top"}=a,{labelClass:m=""}=a,{disabled:M=!1}=a,{value:g=c.length?c[0].value:""}=a;const w=`legend-${Math.floor(Math.random()*1e6)}`,L=(E="")=>`${E}`.toLowerCase().replace(/\W/g,""),P=[[]];function _(){g=this.__value,t(0,g)}return e.$$set=E=>{"options"in E&&t(7,c=E.options),"legend"in E&&t(1,f=E.legend),"legendPosition"in E&&t(8,p=E.legendPosition),"labelClass"in E&&t(2,m=E.labelClass),"disabled"in E&&t(3,M=E.disabled),"value"in E&&t(0,g=E.value)},e.$$.update=()=>{e.$$.dirty&128&&t(5,n=c.map(E=>({...E,val:E.value,slug:L(E.value)}))),e.$$.dirty&256&&t(4,o=p==="top")},[g,f,m,M,o,n,w,c,p,_,P]}class Bl extends Nt{constructor(a){super(),At(this,a,us,rs,Ot,{options:7,legend:1,legendPosition:8,labelClass:2,disabled:3,value:0})}}function cs(e){let a,t,n,o,c,f,p,m,M,g,w,L,P,_,E,U,D,q,N,Y,z,A,H,ee,F,Z,V,K,se,We,$,j,Ie,x,X,Me,he,ye,ve,Te,re,B,R,te;function le(O){e[4](O)}let b={legend:"scale type",options:[{value:"scalePow"},{value:"scaleLog"}]};return e[0]!==void 0&&(b.value=e[0]),p=new Bl({props:b}),ne.push(()=>oe(p,"value",le)),{c(){a=h("div"),t=h("fieldset"),n=h("legend"),o=W(e[3]),c=y(),f=h("div"),Ve(p.$$.fragment),M=y(),g=h("div"),w=h("p"),L=W("Exponent"),P=y(),_=h("select"),E=h("option"),U=W("0.1"),D=h("option"),q=W("0.25"),N=h("option"),Y=W("0.5"),z=h("option"),A=W("0.67"),H=h("option"),ee=W("0.75"),F=h("option"),Z=W("1"),V=h("option"),K=W("2"),We=y(),$=h("div"),j=h("p"),Ie=W("Min"),x=y(),X=h("input"),Me=y(),he=h("div"),ye=h("p"),ve=W("Max"),Te=y(),re=h("input"),this.h()},l(O){a=v(O,"DIV",{class:!0});var C=d(a);t=v(C,"FIELDSET",{class:!0});var J=d(t);n=v(J,"LEGEND",{class:!0});var ue=d(n);o=I(ue,e[3]),ue.forEach(r),c=k(J),f=v(J,"DIV",{class:!0});var Oe=d(f);Be(p.$$.fragment,Oe),Oe.forEach(r),M=k(J),g=v(J,"DIV",{class:!0});var Je=d(g);w=v(Je,"P",{class:!0});var ut=d(w);L=I(ut,"Exponent"),ut.forEach(r),P=k(Je),_=v(Je,"SELECT",{class:!0});var de=d(_);E=v(de,"OPTION",{});var Xe=d(E);U=I(Xe,"0.1"),Xe.forEach(r),D=v(de,"OPTION",{});var ct=d(D);q=I(ct,"0.25"),ct.forEach(r),N=v(de,"OPTION",{});var ht=d(N);Y=I(ht,"0.5"),ht.forEach(r),z=v(de,"OPTION",{});var Re=d(z);A=I(Re,"0.67"),Re.forEach(r),H=v(de,"OPTION",{});var vt=d(H);ee=I(vt,"0.75"),vt.forEach(r),F=v(de,"OPTION",{});var Le=d(F);Z=I(Le,"1"),Le.forEach(r),V=v(de,"OPTION",{});var je=d(V);K=I(je,"2"),je.forEach(r),de.forEach(r),Je.forEach(r),We=k(J),$=v(J,"DIV",{class:!0});var Ke=d($);j=v(Ke,"P",{class:!0});var dt=d(j);Ie=I(dt,"Min"),dt.forEach(r),x=k(Ke),X=v(Ke,"INPUT",{type:!0,class:!0}),Ke.forEach(r),Me=k(J),he=v(J,"DIV",{class:!0});var He=d(he);ye=v(He,"P",{class:!0});var ke=d(ye);ve=I(ke,"Max"),ke.forEach(r),Te=k(He),re=v(He,"INPUT",{type:!0,class:!0}),He.forEach(r),J.forEach(r),C.forEach(r),this.h()},h(){i(n,"class","sr-only svelte-pt4l48"),i(f,"class","scale svelte-pt4l48"),i(w,"class","svelte-pt4l48"),E.__value="0.1",E.value=E.__value,D.__value="0.25",D.value=D.__value,N.__value="0.5",N.value=N.__value,z.__value="0.67",z.value=z.__value,H.__value="0.75",H.value=H.__value,F.__value="1",F.value=F.__value,V.__value="2",V.value=V.__value,_.disabled=se=e[0]==="scaleLog",i(_,"class","svelte-pt4l48"),e[1]===void 0&&Xa(()=>e[5].call(_)),i(g,"class","a exponent svelte-pt4l48"),i(j,"class","svelte-pt4l48"),i(X,"type","number"),i(X,"class","svelte-pt4l48"),i($,"class","a bound svelte-pt4l48"),i(ye,"class","svelte-pt4l48"),i(re,"type","number"),i(re,"class","svelte-pt4l48"),i(he,"class","a bound svelte-pt4l48"),i(t,"class","svelte-pt4l48"),i(a,"class","method-scale svelte-pt4l48")},m(O,C){ce(O,a,C),l(a,t),l(t,n),l(n,o),l(t,c),l(t,f),Ue(p,f,null),l(t,M),l(t,g),l(g,w),l(w,L),l(g,P),l(g,_),l(_,E),l(E,U),l(_,D),l(D,q),l(_,N),l(N,Y),l(_,z),l(z,A),l(_,H),l(H,ee),l(_,F),l(F,Z),l(_,V),l(V,K),ca(_,e[1],!0),l(t,We),l(t,$),l($,j),l(j,Ie),l($,x),l($,X),Pe(X,e[2][0]),l(t,Me),l(t,he),l(he,ye),l(ye,ve),l(he,Te),l(he,re),Pe(re,e[2][1]),B=!0,R||(te=[De(_,"change",e[5]),De(X,"input",e[6]),De(re,"input",e[7])],R=!0)},p(O,[C]){(!B||C&8)&&Fe(o,O[3]);const J={};!m&&C&1&&(m=!0,J.value=O[0],ie(()=>m=!1)),p.$set(J),(!B||C&1&&se!==(se=O[0]==="scaleLog"))&&(_.disabled=se),C&2&&ca(_,O[1]),C&4&&Ze(X.value)!==O[2][0]&&Pe(X,O[2][0]),C&4&&Ze(re.value)!==O[2][1]&&Pe(re,O[2][1])},i(O){B||(we(p.$$.fragment,O),B=!0)},o(O){Se(p.$$.fragment,O),B=!1},d(O){O&&r(a),Ne(p),R=!1,Ul(te)}}}function hs(e,a,t){let{legend:n}=a,{valueScale:o}=a,{valueExp:c}=a,{valueBounds:f}=a;function p(w){o=w,t(0,o)}function m(){c=Ka(this),t(1,c)}function M(){f[0]=Ze(this.value),t(2,f)}function g(){f[1]=Ze(this.value),t(2,f)}return e.$$set=w=>{"legend"in w&&t(3,n=w.legend),"valueScale"in w&&t(0,o=w.valueScale),"valueExp"in w&&t(1,c=w.valueExp),"valueBounds"in w&&t(2,f=w.valueBounds)},e.$$.update=()=>{e.$$.dirty&3},[o,c,f,n,p,m,M,g]}class Vl extends Nt{constructor(a){super(),At(this,a,hs,cs,Ot,{legend:3,valueScale:0,valueExp:1,valueBounds:2})}}function vs(e){let a,t,n,o,c,f,p,m,M,g,w,L,P,_,E,U,D,q,N,Y,z,A,H,ee,F,Z,V,K,se,We,$,j,Ie,x,X,Me,he;function ye(B){e[6](B)}let ve={legend:"metric",options:[{value:"share"},{value:"score"},{value:"shareDelta"}]};e[0]!==void 0&&(ve.value=e[0]),p=new Bl({props:ve}),ne.push(()=>oe(p,"value",ye));function Te(B){e[7](B)}let re={legend:"scale relative to counties?",options:[{value:"yes"},{value:"no"}]};return e[1]!==void 0&&(re.value=e[1]),w=new Bl({props:re}),ne.push(()=>oe(w,"value",Te)),{c(){a=h("div"),t=h("fieldset"),n=h("legend"),o=W(e[5]),c=y(),f=h("div"),Ve(p.$$.fragment),M=y(),g=h("div"),Ve(w.$$.fragment),P=y(),_=h("div"),E=h("p"),U=W("Distance (weight: "),D=W(e[2]),q=W(")"),N=y(),Y=h("input"),z=y(),A=h("p"),H=W("Population (weight: "),ee=W(e[3]),F=W(")"),Z=y(),V=h("input"),K=y(),se=h("p"),We=W("Wiki Length (weight: "),$=W(e[4]),j=W(")"),Ie=y(),x=h("input"),this.h()},l(B){a=v(B,"DIV",{class:!0});var R=d(a);t=v(R,"FIELDSET",{class:!0});var te=d(t);n=v(te,"LEGEND",{class:!0});var le=d(n);o=I(le,e[5]),le.forEach(r),c=k(te),f=v(te,"DIV",{class:!0});var b=d(f);Be(p.$$.fragment,b),b.forEach(r),M=k(te),g=v(te,"DIV",{class:!0});var O=d(g);Be(w.$$.fragment,O),O.forEach(r),P=k(te),_=v(te,"DIV",{class:!0});var C=d(_);E=v(C,"P",{class:!0});var J=d(E);U=I(J,"Distance (weight: "),D=I(J,e[2]),q=I(J,")"),J.forEach(r),N=k(C),Y=v(C,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),z=k(C),A=v(C,"P",{class:!0});var ue=d(A);H=I(ue,"Population (weight: "),ee=I(ue,e[3]),F=I(ue,")"),ue.forEach(r),Z=k(C),V=v(C,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),K=k(C),se=v(C,"P",{class:!0});var Oe=d(se);We=I(Oe,"Wiki Length (weight: "),$=I(Oe,e[4]),j=I(Oe,")"),Oe.forEach(r),Ie=k(C),x=v(C,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),C.forEach(r),te.forEach(r),R.forEach(r),this.h()},h(){i(n,"class","sr-only svelte-13vwk2g"),i(f,"class","prop svelte-13vwk2g"),i(g,"class","scale svelte-13vwk2g"),i(E,"class","svelte-13vwk2g"),i(Y,"type","range"),i(Y,"step",.25),i(Y,"min",0),i(Y,"max",5),i(Y,"class","svelte-13vwk2g"),i(A,"class","svelte-13vwk2g"),i(V,"type","range"),i(V,"step",.25),i(V,"min",0),i(V,"max",5),i(V,"class","svelte-13vwk2g"),i(se,"class","svelte-13vwk2g"),i(x,"type","range"),i(x,"step",.25),i(x,"min",0),i(x,"max",5),i(x,"class","svelte-13vwk2g"),i(_,"class","weight svelte-13vwk2g"),i(t,"class","svelte-13vwk2g"),i(a,"class","method-value svelte-13vwk2g")},m(B,R){ce(B,a,R),l(a,t),l(t,n),l(n,o),l(t,c),l(t,f),Ue(p,f,null),l(t,M),l(t,g),Ue(w,g,null),l(t,P),l(t,_),l(_,E),l(E,U),l(E,D),l(E,q),l(_,N),l(_,Y),Pe(Y,e[2]),l(_,z),l(_,A),l(A,H),l(A,ee),l(A,F),l(_,Z),l(_,V),Pe(V,e[3]),l(_,K),l(_,se),l(se,We),l(se,$),l(se,j),l(_,Ie),l(_,x),Pe(x,e[4]),X=!0,Me||(he=[De(Y,"change",e[8]),De(Y,"input",e[8]),De(V,"change",e[9]),De(V,"input",e[9]),De(x,"change",e[10]),De(x,"input",e[10])],Me=!0)},p(B,[R]){(!X||R&32)&&Fe(o,B[5]);const te={};!m&&R&1&&(m=!0,te.value=B[0],ie(()=>m=!1)),p.$set(te);const le={};!L&&R&2&&(L=!0,le.value=B[1],ie(()=>L=!1)),w.$set(le),(!X||R&4)&&Fe(D,B[2]),R&4&&Pe(Y,B[2]),(!X||R&8)&&Fe(ee,B[3]),R&8&&Pe(V,B[3]),(!X||R&16)&&Fe($,B[4]),R&16&&Pe(x,B[4])},i(B){X||(we(p.$$.fragment,B),we(w.$$.fragment,B),X=!0)},o(B){Se(p.$$.fragment,B),Se(w.$$.fragment,B),X=!1},d(B){B&&r(a),Ne(p),Ne(w),Me=!1,Ul(he)}}}function ds(e,a,t){let{legend:n}=a,{valueProp:o}=a,{valueScale:c}=a,{valueWeightDist:f}=a,{valueWeightPop:p}=a,{valueWeightWiki:m}=a;function M(_){o=_,t(0,o)}function g(_){c=_,t(1,c)}function w(){f=Ze(this.value),t(2,f)}function L(){p=Ze(this.value),t(3,p)}function P(){m=Ze(this.value),t(4,m)}return e.$$set=_=>{"legend"in _&&t(5,n=_.legend),"valueProp"in _&&t(0,o=_.valueProp),"valueScale"in _&&t(1,c=_.valueScale),"valueWeightDist"in _&&t(2,f=_.valueWeightDist),"valueWeightPop"in _&&t(3,p=_.valueWeightPop),"valueWeightWiki"in _&&t(4,m=_.valueWeightWiki)},[o,c,f,p,m,n,M,g,w,L,P]}class fs extends Nt{constructor(a){super(),At(this,a,ds,vs,Ot,{legend:5,valueProp:0,valueScale:1,valueWeightDist:2,valueWeightPop:3,valueWeightWiki:4})}}function ps(e){let a,t,n,o,c,f,p,m,M,g,w,L,P,_,E,U,D,q,N,Y,z;return{c(){a=h("div"),t=h("fieldset"),n=h("legend"),o=W(e[2]),c=y(),f=h("div"),p=h("p"),m=W("Score >= "),M=W(e[1]),g=W(" is 1"),w=y(),L=h("input"),P=y(),_=h("p"),E=W("Score >= "),U=W(e[0]),D=W(" is 0.75"),q=y(),N=h("input"),this.h()},l(A){a=v(A,"DIV",{class:!0});var H=d(a);t=v(H,"FIELDSET",{class:!0});var ee=d(t);n=v(ee,"LEGEND",{class:!0});var F=d(n);o=I(F,e[2]),F.forEach(r),c=k(ee),f=v(ee,"DIV",{class:!0});var Z=d(f);p=v(Z,"P",{class:!0});var V=d(p);m=I(V,"Score >= "),M=I(V,e[1]),g=I(V," is 1"),V.forEach(r),w=k(Z),L=v(Z,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),P=k(Z),_=v(Z,"P",{class:!0});var K=d(_);E=I(K,"Score >= "),U=I(K,e[0]),D=I(K," is 0.75"),K.forEach(r),q=k(Z),N=v(Z,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),Z.forEach(r),ee.forEach(r),H.forEach(r),this.h()},h(){i(n,"class","sr-only svelte-13vwk2g"),i(p,"class","svelte-13vwk2g"),i(L,"type","range"),i(L,"step",.01),i(L,"min",.01),i(L,"max",.99),i(L,"class","svelte-13vwk2g"),i(_,"class","svelte-13vwk2g"),i(N,"type","range"),i(N,"step",.01),i(N,"min",.01),i(N,"max",.99),i(N,"class","svelte-13vwk2g"),i(f,"class","threshold svelte-13vwk2g"),i(t,"class","svelte-13vwk2g"),i(a,"class","method-threshold svelte-13vwk2g")},m(A,H){ce(A,a,H),l(a,t),l(t,n),l(n,o),l(t,c),l(t,f),l(f,p),l(p,m),l(p,M),l(p,g),l(f,w),l(f,L),Pe(L,e[1]),l(f,P),l(f,_),l(_,E),l(_,U),l(_,D),l(f,q),l(f,N),Pe(N,e[0]),Y||(z=[De(L,"change",e[3]),De(L,"input",e[3]),De(N,"change",e[4]),De(N,"input",e[4])],Y=!0)},p(A,[H]){H&4&&Fe(o,A[2]),H&2&&Fe(M,A[1]),H&2&&Pe(L,A[1]),H&1&&Fe(U,A[0]),H&1&&Pe(N,A[0])},i:Ae,o:Ae,d(A){A&&r(a),Y=!1,Ul(z)}}}function _s(e,a,t){let{legend:n}=a,{thresholdLower:o}=a,{thresholdUpper:c}=a;function f(){c=Ze(this.value),t(1,c)}function p(){o=Ze(this.value),t(0,o)}return e.$$set=m=>{"legend"in m&&t(2,n=m.legend),"thresholdLower"in m&&t(0,o=m.thresholdLower),"thresholdUpper"in m&&t(1,c=m.thresholdUpper)},[o,c,n,f,p]}class gs extends Nt{constructor(a){super(),At(this,a,_s,ps,Ot,{legend:2,thresholdLower:0,thresholdUpper:1})}}function pa(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function _a(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ga(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ma(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function Ea(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ba(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function wa(e,a,t){const n=e.slice();return n[44]=a[t].value,n}function ya(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function ka(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function Sa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function Da(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function Pa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function Wa(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function Ia(e){let a,t=e[44]+"";return{c(){a=h("p")},l(n){a=v(n,"P",{});var o=d(a);o.forEach(r)},m(n,o){ce(n,a,o),a.innerHTML=t},p:Ae,d(n){n&&r(a)}}}function Ma(e){let a,t,n;return t=new as({props:{counties:e[17],states:e[18],countiesMesh:e[19],statesMesh:e[20],nationMesh:e[21],placeData:e[16],placeName:e[22],scaleTypePop:e[0],scaleTypeWiki:e[1],scaleTypeDist:e[2],scaleExpPop:e[3],scaleExpWiki:e[4],scaleExpDist:e[5],scaleBoundsPop:e[6],scaleBoundsWiki:e[7],scaleBoundsDist:e[8],valueWeightDist:e[9],valueWeightPop:e[10],valueWeightWiki:e[11],thresholdLower:e[12],thresholdUpper:e[13],valueProp:e[14],valueScale:e[15]}}),{c(){a=h("div"),Ve(t.$$.fragment),this.h()},l(o){a=v(o,"DIV",{class:!0});var c=d(a);Be(t.$$.fragment,c),c.forEach(r),this.h()},h(){i(a,"class","top-score svelte-1yd970r")},m(o,c){ce(o,a,c),Ue(t,a,null),n=!0},p(o,c){const f={};c[0]&131072&&(f.counties=o[17]),c[0]&262144&&(f.states=o[18]),c[0]&524288&&(f.countiesMesh=o[19]),c[0]&1048576&&(f.statesMesh=o[20]),c[0]&2097152&&(f.nationMesh=o[21]),c[0]&65536&&(f.placeData=o[16]),c[0]&4194304&&(f.placeName=o[22]),c[0]&1&&(f.scaleTypePop=o[0]),c[0]&2&&(f.scaleTypeWiki=o[1]),c[0]&4&&(f.scaleTypeDist=o[2]),c[0]&8&&(f.scaleExpPop=o[3]),c[0]&16&&(f.scaleExpWiki=o[4]),c[0]&32&&(f.scaleExpDist=o[5]),c[0]&64&&(f.scaleBoundsPop=o[6]),c[0]&128&&(f.scaleBoundsWiki=o[7]),c[0]&256&&(f.scaleBoundsDist=o[8]),c[0]&512&&(f.valueWeightDist=o[9]),c[0]&1024&&(f.valueWeightPop=o[10]),c[0]&2048&&(f.valueWeightWiki=o[11]),c[0]&4096&&(f.thresholdLower=o[12]),c[0]&8192&&(f.thresholdUpper=o[13]),c[0]&16384&&(f.valueProp=o[14]),c[0]&32768&&(f.valueScale=o[15]),t.$set(f)},i(o){n||(we(t.$$.fragment,o),n=!0)},o(o){Se(t.$$.fragment,o),n=!1},d(o){o&&r(a),Ne(t)}}}function ms(e){let a,t,n,o,c=e[23].hed+"",f,p,m=e[23].dek+"",M,g,w,L,P,_,E,U,D,q,N,Y,z,A,H,ee,F,Z,V,K,se,We,$,j,Ie,x,X,Me,he,ye,ve,Te,re,B,R,te,le,b,O,C,J,ue,Oe,Je,ut,de,Xe,ct,ht,Re,vt,Le,je,Ke,dt,He,ke,ll,al,sl,nl,Qe,Ht,ol,il,at,rl,Ye,ft,ul,cl,pt,Ce,hl,vl,dl,fl,$e,Ct,pl,_l,st,gl,Ge,_t,ml,El,gt,ze,bl,wl,yl,kl,xe,zt,Sl,Dl,nt,Pl,et,mt,Wl,Il,qe,Rt,Ml,Tl,ot,Yt,it,tt,Gt;E=new ts({props:{options:La}}),E.$on("change",e[26]);let Et=e[23].introExplanation,fe=[];for(let s=0;s<Et.length;s+=1)fe[s]=ya(wa(e,Et,s));function Va(s){e[27](s)}function Ba(s){e[28](s)}function Ua(s){e[29](s)}function Na(s){e[30](s)}function Aa(s){e[31](s)}let bt={legend:"Value"};e[14]!==void 0&&(bt.valueProp=e[14]),e[15]!==void 0&&(bt.valueScale=e[15]),e[9]!==void 0&&(bt.valueWeightDist=e[9]),e[10]!==void 0&&(bt.valueWeightPop=e[10]),e[11]!==void 0&&(bt.valueWeightWiki=e[11]),j=new fs({props:bt}),ne.push(()=>oe(j,"valueProp",Va)),ne.push(()=>oe(j,"valueScale",Ba)),ne.push(()=>oe(j,"valueWeightDist",Ua)),ne.push(()=>oe(j,"valueWeightPop",Na)),ne.push(()=>oe(j,"valueWeightWiki",Aa));let wt=e[23].valueExplanation,pe=[];for(let s=0;s<wt.length;s+=1)pe[s]=ka(ba(e,wt,s));function Oa(s){e[32](s)}function Ha(s){e[33](s)}let Ll={legend:"Opacity threshold"};e[12]!==void 0&&(Ll.thresholdLower=e[12]),e[13]!==void 0&&(Ll.thresholdUpper=e[13]),ue=new gs({props:Ll}),ne.push(()=>oe(ue,"thresholdLower",Oa)),ne.push(()=>oe(ue,"thresholdUpper",Ha));let yt=e[23].thresholdExplanation,_e=[];for(let s=0;s<yt.length;s+=1)_e[s]=Sa(Ea(e,yt,s));function Ca(s){e[34](s)}function za(s){e[35](s)}function Ra(s){e[36](s)}let Ft={legend:"Distance Scale (mi)"};e[2]!==void 0&&(Ft.valueScale=e[2]),e[5]!==void 0&&(Ft.valueExp=e[5]),e[8]!==void 0&&(Ft.valueBounds=e[8]),ke=new Vl({props:Ft}),ne.push(()=>oe(ke,"valueScale",Ca)),ne.push(()=>oe(ke,"valueExp",za)),ne.push(()=>oe(ke,"valueBounds",Ra));let kt=e[23].distanceExplanation,ge=[];for(let s=0;s<kt.length;s+=1)ge[s]=Da(ma(e,kt,s));function Ya(s){e[37](s)}function Ga(s){e[38](s)}function Fa(s){e[39](s)}let jt={legend:"Population Scale (people)"};e[0]!==void 0&&(jt.valueScale=e[0]),e[3]!==void 0&&(jt.valueExp=e[3]),e[6]!==void 0&&(jt.valueBounds=e[6]),Ce=new Vl({props:jt}),ne.push(()=>oe(Ce,"valueScale",Ya)),ne.push(()=>oe(Ce,"valueExp",Ga)),ne.push(()=>oe(Ce,"valueBounds",Fa));let St=e[23].populationExplanation,me=[];for(let s=0;s<St.length;s+=1)me[s]=Pa(ga(e,St,s));function ja(s){e[40](s)}function qa(s){e[41](s)}function Za(s){e[42](s)}let qt={legend:"Wiki Scale (article length)"};e[1]!==void 0&&(qt.valueScale=e[1]),e[4]!==void 0&&(qt.valueExp=e[4]),e[7]!==void 0&&(qt.valueBounds=e[7]),ze=new Vl({props:qt}),ne.push(()=>oe(ze,"valueScale",ja)),ne.push(()=>oe(ze,"valueExp",qa)),ne.push(()=>oe(ze,"valueBounds",Za));let Dt=e[23].wikiExplanation,Ee=[];for(let s=0;s<Dt.length;s+=1)Ee[s]=Wa(_a(e,Dt,s));let Pt=e[23].miscExplanation,be=[];for(let s=0;s<Pt.length;s+=1)be[s]=Ia(pa(e,Pt,s));let ae=e[16]&&Ma(e);return{c(){a=h("article"),t=h("section"),n=h("h1"),o=h("strong"),f=y(),p=h("p"),M=y(),g=h("p"),w=W("Increase your screen size or visit on desktop to customize the settings."),L=y(),P=h("section"),_=h("div"),Ve(E.$$.fragment),U=y(),D=h("div"),q=h("h2"),N=W("Introduction"),Y=y(),z=h("details"),A=h("summary"),H=W("Explanation"),ee=y(),F=h("div");for(let s=0;s<fe.length;s+=1)fe[s].c();Z=y(),V=h("div"),K=h("h2"),se=W("Value"),We=y(),$=h("div"),Ve(j.$$.fragment),ye=y(),ve=h("details"),Te=h("summary"),re=W("Explanation"),B=y(),R=h("div");for(let s=0;s<pe.length;s+=1)pe[s].c();te=y(),le=h("div"),b=h("h2"),O=W("Opacity Threshold"),C=y(),J=h("div"),Ve(ue.$$.fragment),ut=y(),de=h("details"),Xe=h("summary"),ct=W("Explanation"),ht=y(),Re=h("div");for(let s=0;s<_e.length;s+=1)_e[s].c();vt=y(),Le=h("div"),je=h("h2"),Ke=W("Distance Scale"),dt=y(),He=h("div"),Ve(ke.$$.fragment),nl=y(),Qe=h("details"),Ht=h("summary"),ol=W("Explanation"),il=y(),at=h("div");for(let s=0;s<ge.length;s+=1)ge[s].c();rl=y(),Ye=h("div"),ft=h("h2"),ul=W("Population Scale"),cl=y(),pt=h("div"),Ve(Ce.$$.fragment),fl=y(),$e=h("details"),Ct=h("summary"),pl=W("Explanation"),_l=y(),st=h("div");for(let s=0;s<me.length;s+=1)me[s].c();gl=y(),Ge=h("div"),_t=h("h2"),ml=W("Wikipedia Article Scale"),El=y(),gt=h("div"),Ve(ze.$$.fragment),kl=y(),xe=h("details"),zt=h("summary"),Sl=W("Explanation"),Dl=y(),nt=h("div");for(let s=0;s<Ee.length;s+=1)Ee[s].c();Pl=y(),et=h("div"),mt=h("h2"),Wl=W("Miscellaneous Details"),Il=y(),qe=h("details"),Rt=h("summary"),Ml=W("Explanation"),Tl=y(),ot=h("div");for(let s=0;s<be.length;s+=1)be[s].c();Yt=y(),it=h("div"),tt=h("section"),ae&&ae.c(),this.h()},l(s){a=v(s,"ARTICLE",{class:!0});var T=d(a);t=v(T,"SECTION",{id:!0});var S=d(t);n=v(S,"H1",{class:!0});var Wt=d(n);o=v(Wt,"STRONG",{});var It=d(o);It.forEach(r),Wt.forEach(r),f=k(S),p=v(S,"P",{});var Mt=d(p);Mt.forEach(r),M=k(S),g=v(S,"P",{class:!0});var rt=d(g);w=I(rt,"Increase your screen size or visit on desktop to customize the settings."),rt.forEach(r),S.forEach(r),L=k(T),P=v(T,"SECTION",{id:!0,class:!0});var u=d(P);_=v(u,"DIV",{class:!0});var Q=d(_);Be(E.$$.fragment,Q),Q.forEach(r),U=k(u),D=v(u,"DIV",{class:!0});var Zt=d(D);q=v(Zt,"H2",{class:!0});var Nl=d(q);N=I(Nl,"Introduction"),Nl.forEach(r),Y=k(Zt),z=v(Zt,"DETAILS",{class:!0});var Jt=d(z);A=v(Jt,"SUMMARY",{});var Al=d(A);H=I(Al,"Explanation"),Al.forEach(r),ee=k(Jt),F=v(Jt,"DIV",{class:!0});var Ol=d(F);for(let G=0;G<fe.length;G+=1)fe[G].l(Ol);Ol.forEach(r),Jt.forEach(r),Zt.forEach(r),Z=k(u),V=v(u,"DIV",{class:!0});var Tt=d(V);K=v(Tt,"H2",{class:!0});var Hl=d(K);se=I(Hl,"Value"),Hl.forEach(r),We=k(Tt),$=v(Tt,"DIV",{class:!0});var Cl=d($);Be(j.$$.fragment,Cl),Cl.forEach(r),ye=k(Tt),ve=v(Tt,"DETAILS",{class:!0});var Xt=d(ve);Te=v(Xt,"SUMMARY",{});var zl=d(Te);re=I(zl,"Explanation"),zl.forEach(r),B=k(Xt),R=v(Xt,"DIV",{class:!0});var Rl=d(R);for(let G=0;G<pe.length;G+=1)pe[G].l(Rl);Rl.forEach(r),Xt.forEach(r),Tt.forEach(r),te=k(u),le=v(u,"DIV",{class:!0});var Lt=d(le);b=v(Lt,"H2",{class:!0});var Yl=d(b);O=I(Yl,"Opacity Threshold"),Yl.forEach(r),C=k(Lt),J=v(Lt,"DIV",{class:!0});var Gl=d(J);Be(ue.$$.fragment,Gl),Gl.forEach(r),ut=k(Lt),de=v(Lt,"DETAILS",{class:!0});var Kt=d(de);Xe=v(Kt,"SUMMARY",{});var Fl=d(Xe);ct=I(Fl,"Explanation"),Fl.forEach(r),ht=k(Kt),Re=v(Kt,"DIV",{class:!0});var jl=d(Re);for(let G=0;G<_e.length;G+=1)_e[G].l(jl);jl.forEach(r),Kt.forEach(r),Lt.forEach(r),vt=k(u),Le=v(u,"DIV",{class:!0});var Vt=d(Le);je=v(Vt,"H2",{class:!0});var ql=d(je);Ke=I(ql,"Distance Scale"),ql.forEach(r),dt=k(Vt),He=v(Vt,"DIV",{class:!0});var Zl=d(He);Be(ke.$$.fragment,Zl),Zl.forEach(r),nl=k(Vt),Qe=v(Vt,"DETAILS",{class:!0});var Qt=d(Qe);Ht=v(Qt,"SUMMARY",{});var Jl=d(Ht);ol=I(Jl,"Explanation"),Jl.forEach(r),il=k(Qt),at=v(Qt,"DIV",{class:!0});var Xl=d(at);for(let G=0;G<ge.length;G+=1)ge[G].l(Xl);Xl.forEach(r),Qt.forEach(r),Vt.forEach(r),rl=k(u),Ye=v(u,"DIV",{class:!0});var Bt=d(Ye);ft=v(Bt,"H2",{class:!0});var Kl=d(ft);ul=I(Kl,"Population Scale"),Kl.forEach(r),cl=k(Bt),pt=v(Bt,"DIV",{class:!0});var Ql=d(pt);Be(Ce.$$.fragment,Ql),Ql.forEach(r),fl=k(Bt),$e=v(Bt,"DETAILS",{class:!0});var $t=d($e);Ct=v($t,"SUMMARY",{});var $l=d(Ct);pl=I($l,"Explanation"),$l.forEach(r),_l=k($t),st=v($t,"DIV",{class:!0});var xl=d(st);for(let G=0;G<me.length;G+=1)me[G].l(xl);xl.forEach(r),$t.forEach(r),Bt.forEach(r),gl=k(u),Ge=v(u,"DIV",{class:!0});var Ut=d(Ge);_t=v(Ut,"H2",{class:!0});var ea=d(_t);ml=I(ea,"Wikipedia Article Scale"),ea.forEach(r),El=k(Ut),gt=v(Ut,"DIV",{class:!0});var ta=d(gt);Be(ze.$$.fragment,ta),ta.forEach(r),kl=k(Ut),xe=v(Ut,"DETAILS",{class:!0});var xt=d(xe);zt=v(xt,"SUMMARY",{});var la=d(zt);Sl=I(la,"Explanation"),la.forEach(r),Dl=k(xt),nt=v(xt,"DIV",{class:!0});var aa=d(nt);for(let G=0;G<Ee.length;G+=1)Ee[G].l(aa);aa.forEach(r),xt.forEach(r),Ut.forEach(r),Pl=k(u),et=v(u,"DIV",{class:!0});var el=d(et);mt=v(el,"H2",{class:!0});var sa=d(mt);Wl=I(sa,"Miscellaneous Details"),sa.forEach(r),Il=k(el),qe=v(el,"DETAILS",{class:!0});var tl=d(qe);Rt=v(tl,"SUMMARY",{});var na=d(Rt);Ml=I(na,"Explanation"),na.forEach(r),Tl=k(tl),ot=v(tl,"DIV",{class:!0});var oa=d(ot);for(let G=0;G<be.length;G+=1)be[G].l(oa);oa.forEach(r),tl.forEach(r),el.forEach(r),u.forEach(r),T.forEach(r),Yt=k(s),it=v(s,"DIV",{class:!0});var ia=d(it);tt=v(ia,"SECTION",{id:!0,class:!0});var ra=d(tt);ae&&ae.l(ra),ra.forEach(r),ia.forEach(r),this.h()},h(){i(n,"class","svelte-1yd970r"),i(g,"class","small svelte-1yd970r"),i(t,"id","title"),i(_,"class","select"),i(q,"class","svelte-1yd970r"),i(F,"class","inner svelte-1yd970r"),z.open=!0,i(z,"class","svelte-1yd970r"),i(D,"class","play svelte-1yd970r"),i(K,"class","svelte-1yd970r"),i($,"class","customize svelte-1yd970r"),i(R,"class","inner svelte-1yd970r"),i(ve,"class","svelte-1yd970r"),i(V,"class","play svelte-1yd970r"),i(b,"class","svelte-1yd970r"),i(J,"class","customize svelte-1yd970r"),i(Re,"class","inner svelte-1yd970r"),i(de,"class","svelte-1yd970r"),i(le,"class","play svelte-1yd970r"),i(je,"class","svelte-1yd970r"),i(He,"class","customize svelte-1yd970r"),i(at,"class","inner svelte-1yd970r"),i(Qe,"class","svelte-1yd970r"),i(Le,"class","play svelte-1yd970r"),i(ft,"class","svelte-1yd970r"),i(pt,"class","customize svelte-1yd970r"),i(st,"class","inner svelte-1yd970r"),i($e,"class","svelte-1yd970r"),i(Ye,"class","play svelte-1yd970r"),i(_t,"class","svelte-1yd970r"),i(gt,"class","customize svelte-1yd970r"),i(nt,"class","inner svelte-1yd970r"),i(xe,"class","svelte-1yd970r"),i(Ge,"class","play svelte-1yd970r"),i(mt,"class","svelte-1yd970r"),i(ot,"class","inner svelte-1yd970r"),qe.open=!0,i(qe,"class","svelte-1yd970r"),i(et,"class","play svelte-1yd970r"),i(P,"id","ui"),i(P,"class","svelte-1yd970r"),i(a,"class","method svelte-1yd970r"),i(tt,"id","maps"),i(tt,"class","svelte-1yd970r"),i(it,"class","figure method svelte-1yd970r")},m(s,T){ce(s,a,T),l(a,t),l(t,n),l(n,o),o.innerHTML=c,l(t,f),l(t,p),p.innerHTML=m,l(t,M),l(t,g),l(g,w),l(a,L),l(a,P),l(P,_),Ue(E,_,null),l(P,U),l(P,D),l(D,q),l(q,N),l(D,Y),l(D,z),l(z,A),l(A,H),l(z,ee),l(z,F);for(let S=0;S<fe.length;S+=1)fe[S]&&fe[S].m(F,null);l(P,Z),l(P,V),l(V,K),l(K,se),l(V,We),l(V,$),Ue(j,$,null),l(V,ye),l(V,ve),l(ve,Te),l(Te,re),l(ve,B),l(ve,R);for(let S=0;S<pe.length;S+=1)pe[S]&&pe[S].m(R,null);l(P,te),l(P,le),l(le,b),l(b,O),l(le,C),l(le,J),Ue(ue,J,null),l(le,ut),l(le,de),l(de,Xe),l(Xe,ct),l(de,ht),l(de,Re);for(let S=0;S<_e.length;S+=1)_e[S]&&_e[S].m(Re,null);l(P,vt),l(P,Le),l(Le,je),l(je,Ke),l(Le,dt),l(Le,He),Ue(ke,He,null),l(Le,nl),l(Le,Qe),l(Qe,Ht),l(Ht,ol),l(Qe,il),l(Qe,at);for(let S=0;S<ge.length;S+=1)ge[S]&&ge[S].m(at,null);l(P,rl),l(P,Ye),l(Ye,ft),l(ft,ul),l(Ye,cl),l(Ye,pt),Ue(Ce,pt,null),l(Ye,fl),l(Ye,$e),l($e,Ct),l(Ct,pl),l($e,_l),l($e,st);for(let S=0;S<me.length;S+=1)me[S]&&me[S].m(st,null);l(P,gl),l(P,Ge),l(Ge,_t),l(_t,ml),l(Ge,El),l(Ge,gt),Ue(ze,gt,null),l(Ge,kl),l(Ge,xe),l(xe,zt),l(zt,Sl),l(xe,Dl),l(xe,nt);for(let S=0;S<Ee.length;S+=1)Ee[S]&&Ee[S].m(nt,null);l(P,Pl),l(P,et),l(et,mt),l(mt,Wl),l(et,Il),l(et,qe),l(qe,Rt),l(Rt,Ml),l(qe,Tl),l(qe,ot);for(let S=0;S<be.length;S+=1)be[S]&&be[S].m(ot,null);ce(s,Yt,T),ce(s,it,T),l(it,tt),ae&&ae.m(tt,null),Gt=!0},p(s,T){if(T[0]&8388608){Et=s[23].introExplanation;let u;for(u=0;u<Et.length;u+=1){const Q=wa(s,Et,u);fe[u]?fe[u].p(Q,T):(fe[u]=ya(Q),fe[u].c(),fe[u].m(F,null))}for(;u<fe.length;u+=1)fe[u].d(1);fe.length=Et.length}const S={};if(!Ie&&T[0]&16384&&(Ie=!0,S.valueProp=s[14],ie(()=>Ie=!1)),!x&&T[0]&32768&&(x=!0,S.valueScale=s[15],ie(()=>x=!1)),!X&&T[0]&512&&(X=!0,S.valueWeightDist=s[9],ie(()=>X=!1)),!Me&&T[0]&1024&&(Me=!0,S.valueWeightPop=s[10],ie(()=>Me=!1)),!he&&T[0]&2048&&(he=!0,S.valueWeightWiki=s[11],ie(()=>he=!1)),j.$set(S),T[0]&8388608){wt=s[23].valueExplanation;let u;for(u=0;u<wt.length;u+=1){const Q=ba(s,wt,u);pe[u]?pe[u].p(Q,T):(pe[u]=ka(Q),pe[u].c(),pe[u].m(R,null))}for(;u<pe.length;u+=1)pe[u].d(1);pe.length=wt.length}const Wt={};if(!Oe&&T[0]&4096&&(Oe=!0,Wt.thresholdLower=s[12],ie(()=>Oe=!1)),!Je&&T[0]&8192&&(Je=!0,Wt.thresholdUpper=s[13],ie(()=>Je=!1)),ue.$set(Wt),T[0]&8388608){yt=s[23].thresholdExplanation;let u;for(u=0;u<yt.length;u+=1){const Q=Ea(s,yt,u);_e[u]?_e[u].p(Q,T):(_e[u]=Sa(Q),_e[u].c(),_e[u].m(Re,null))}for(;u<_e.length;u+=1)_e[u].d(1);_e.length=yt.length}const It={};if(!ll&&T[0]&4&&(ll=!0,It.valueScale=s[2],ie(()=>ll=!1)),!al&&T[0]&32&&(al=!0,It.valueExp=s[5],ie(()=>al=!1)),!sl&&T[0]&256&&(sl=!0,It.valueBounds=s[8],ie(()=>sl=!1)),ke.$set(It),T[0]&8388608){kt=s[23].distanceExplanation;let u;for(u=0;u<kt.length;u+=1){const Q=ma(s,kt,u);ge[u]?ge[u].p(Q,T):(ge[u]=Da(Q),ge[u].c(),ge[u].m(at,null))}for(;u<ge.length;u+=1)ge[u].d(1);ge.length=kt.length}const Mt={};if(!hl&&T[0]&1&&(hl=!0,Mt.valueScale=s[0],ie(()=>hl=!1)),!vl&&T[0]&8&&(vl=!0,Mt.valueExp=s[3],ie(()=>vl=!1)),!dl&&T[0]&64&&(dl=!0,Mt.valueBounds=s[6],ie(()=>dl=!1)),Ce.$set(Mt),T[0]&8388608){St=s[23].populationExplanation;let u;for(u=0;u<St.length;u+=1){const Q=ga(s,St,u);me[u]?me[u].p(Q,T):(me[u]=Pa(Q),me[u].c(),me[u].m(st,null))}for(;u<me.length;u+=1)me[u].d(1);me.length=St.length}const rt={};if(!bl&&T[0]&2&&(bl=!0,rt.valueScale=s[1],ie(()=>bl=!1)),!wl&&T[0]&16&&(wl=!0,rt.valueExp=s[4],ie(()=>wl=!1)),!yl&&T[0]&128&&(yl=!0,rt.valueBounds=s[7],ie(()=>yl=!1)),ze.$set(rt),T[0]&8388608){Dt=s[23].wikiExplanation;let u;for(u=0;u<Dt.length;u+=1){const Q=_a(s,Dt,u);Ee[u]?Ee[u].p(Q,T):(Ee[u]=Wa(Q),Ee[u].c(),Ee[u].m(nt,null))}for(;u<Ee.length;u+=1)Ee[u].d(1);Ee.length=Dt.length}if(T[0]&8388608){Pt=s[23].miscExplanation;let u;for(u=0;u<Pt.length;u+=1){const Q=pa(s,Pt,u);be[u]?be[u].p(Q,T):(be[u]=Ia(Q),be[u].c(),be[u].m(ot,null))}for(;u<be.length;u+=1)be[u].d(1);be.length=Pt.length}s[16]?ae?(ae.p(s,T),T[0]&65536&&we(ae,1)):(ae=Ma(s),ae.c(),we(ae,1),ae.m(tt,null)):ae&&(Qa(),Se(ae,1,1,()=>{ae=null}),$a())},i(s){Gt||(we(E.$$.fragment,s),we(j.$$.fragment,s),we(ue.$$.fragment,s),we(ke.$$.fragment,s),we(Ce.$$.fragment,s),we(ze.$$.fragment,s),we(ae),Gt=!0)},o(s){Se(E.$$.fragment,s),Se(j.$$.fragment,s),Se(ue.$$.fragment,s),Se(ke.$$.fragment,s),Se(Ce.$$.fragment,s),Se(ze.$$.fragment,s),Se(ae),Gt=!1},d(s){s&&r(a),Ne(E),lt(fe,s),Ne(j),lt(pe,s),Ne(ue),lt(_e,s),Ne(ke),lt(ge,s),Ne(Ce),lt(me,s),Ne(ze),lt(Ee,s),lt(be,s),s&&r(Yt),s&&r(it),ae&&ae.d()}}}function Es(e,a,t){const n=ha("copy");ha("data");let o="scalePow",c="scalePow",f="scaleLog",p="0.5",m="0.5",M="1",g=[0,22933531],w=[0,96911],L=[50,300],P=2,_=1,E=1,U=.02,D=.05,q="shareDelta",N="no",Y,z,A,H,ee,F,Z,V;function K({name:b,phoneme:O}){t(25,Z=O),t(22,V=b)}xa(async()=>{try{const b=await ls();t(17,z=b.counties),t(18,A=b.states),t(19,H=b.countiesMesh),t(20,ee=b.statesMesh),t(21,F=b.nationMesh);const O=La.find(C=>C.name==="Portland");K(O)}catch(b){console.log(b)}});const se=({detail:b})=>K(b);function We(b){q=b,t(14,q)}function $(b){N=b,t(15,N)}function j(b){P=b,t(9,P)}function Ie(b){_=b,t(10,_)}function x(b){E=b,t(11,E)}function X(b){U=b,t(12,U)}function Me(b){D=b,t(13,D)}function he(b){f=b,t(2,f)}function ye(b){M=b,t(5,M)}function ve(b){L=b,t(8,L)}function Te(b){o=b,t(0,o)}function re(b){p=b,t(3,p)}function B(b){g=b,t(6,g)}function R(b){c=b,t(1,c)}function te(b){m=b,t(4,m)}function le(b){w=b,t(7,w)}return e.$$.update=()=>{e.$$.dirty[0]&33554432&&Z&&(async()=>t(16,Y=await ss(`${is}/assets/places/${Z}.csv?2023-03-17-11:04`)))()},[o,c,f,p,m,M,g,w,L,P,_,E,U,D,q,N,Y,z,A,H,ee,F,V,n,K,Z,se,We,$,j,Ie,x,X,Me,he,ye,ve,Te,re,B,R,te,le]}class bs extends Nt{constructor(a){super(),At(this,a,Es,ms,Ot,{},null,[-1,-1])}}const ws="https://pudding.cool/2023/03/same-name/method",ys="Data and Methods",ks="An interactive explainer for how we made A Map of Places with the Same Name",Ss="Data &amp; Methods",Ds="An interactive explainer for the choices in <br> <a href=../>A Map of Places with the Same Name</a>",Ps="<strong># of Counties</strong> is how many times that place is the top ranked place above the <strong>maybe</strong> threshold.",Ws="<strong>Share Margin</strong> is the difference between the scores (as percent share) of the top two ranked places.",Is=[{type:"text",value:"We chose to blend three properties to match our perception of how this plays out in reality:"},{type:"text",value:"<strong>Distance</strong>: the proximity to a place."},{type:"text",value:"<strong>Population</strong>: the size of a place is a pretty good indicator of its importance."},{type:"text",value:"<strong>Wikipedia article length</strong>: an extra layer of nuance for the cultural importance/awareness of places that may not have a large population."}],Ms=[{type:"text",value:"There are a few different metrics we computed to see what matched our intuition the best:"},{type:"text",value:"<strong>score:</strong> the raw numerical score as calculated according to the three properties."},{type:"text",value:"<strong>share:</strong> the score as a percent of the sum of all place scores for each county."},{type:"text",value:"<strong>shareDelta:</strong> how much bigger the highest score is than the next highest."},{type:"text",value:"<strong>Score</strong> on its own looks at things in isolation so that felt too siloed. When then tried <strong>share</strong> because it accounted for the effects of adding more places to the mix and giving each a bit of gravity. We ended up using <strong>shareDelta</strong> because of the small nuance it added. There are often times when two or more place shares are quite high, but since we only pick the top one the others are drowned out. By looking at <em>how much</em> higher the top one is, it better reflects the likelihood of one place over another."},{type:"text",value:"<strong>Scale relative to counties</strong> basically means to look at that value compared to all results or independently. Say for example The maximum <strong>share</strong> for any county is 40. We would then normalize all county values to that. So a share of 20 would actually mean a value of 50%."},{type:"text",value:"We chose to weight distance more heavily because we wanted to make it so if you are in or near the place you are referring to, it should always win, regardless of how big an external place is."}],Ts=[{type:"text",value:"Based on the resulting value from above, which ones get the full opacity (probably) and which get reduced opacity (maybe). The right values here are the most driven by feel, and vary greatly depending on which metrics you select above and if the scores are relative or not."}],Ls=[{type:"text",value:"We chose a logarithmic scale because it felt most accurate: if you are really close to a place its gravity should be felt more heavily than if you get farther away. Anything under the minimum (we chose 50 miles) gets the highest score (1), anything over the maximum (300 miles) gets 0."}],Vs=[{type:"text",value:"Like distance, we chose to clamp the maximum value here. At a certain size, there is really little distinction. We chose to use a computed threshold as our max clamp of the top 0.1% percentile. We also chose an exponential scale to curb the effects of the lopsided distribution, so the medium-sized places still have some weight and aren’t lumped with the places with very low numbers."}],Bs=[{type:"text",value:"Like distance, we chose to clamp the maximum value here. At a certain size, there is really little distinction. We chose to use a computed threshold as our max clamp of the top 0.1% percentile. We also chose an exponential scale to curb the effects of the lopsided distribution, so the medium-sized places still have some weight and aren’t lumped with the places with very low numbers."}],Us=[{type:"text",value:"We conceived of this project thinking about how people talk about places, so  they are grouped together if they share either the same spelling or pronunciation (using phoneme matching)."},{type:"text",value:"We only used international cities with populations over 100,000 since it is unlikely that smaller ones are well-known to most people in the US."},{type:"text",value:"Although places can be in multiple counties, we are only displaying the first one for brevity."},{type:"text",value:"We used an amalgamation of data sources:"},{type:"text",value:"<a href=https://www.uscitieslist.org/ target=blank rel=noreferrer>Incorporated US cities</a>"},{type:"text",value:"<a href=https://en.wikipedia.org/wiki/Category:Unincorporated_communities_in_the_United_States_by_county target=_blank rel=noreferrer>Unincorporated US cities</a>"},{type:"text",value:"<a href=https://www.census.gov/data-tools/demo/idb/#/table?COUNTRY_YEAR=2023&COUNTRY_YR_ANIM=2023 target=blank rel=noreferrer>Countries</a>"},{type:"text",value:"<a href=https://simplemaps.com/data/world-cities target=blank rel=noreferrer>International cities</a>"},{type:"text",value:"<a href=https://www.census.gov/data/tables/time-series/demo/popest/2020s-national-total.html target=blank rel=noreferrer>States</a>"},{type:"text",value:"We are constantly updating the data, so if you spot something wrong with the places being used (or not), <a href=https://docs.google.com/spreadsheets/d/1cHtvcuxvxI6Y2hA5Xa2wg8AW0SZ7ZYG5H5x7H4jGLdk/edit#gid=0 target=_blank rel=noreferrer>help us improve it!</a>"},{type:"text",value:"Get in touch at russell@pudding.cool, and consider supporting The Pudding on <a href=https://www.patreon.com/thepudding target=_blank rel=noreferrer>Patreon!</a>"}],Ta={url:ws,title:ys,description:ks,hed:Ss,dek:Ds,placeNote:Ps,countyNote:Ws,introExplanation:Is,valueExplanation:Ms,thresholdExplanation:Ts,distanceExplanation:Ls,populationExplanation:Vs,wikiExplanation:Bs,miscExplanation:Us};function Ns(e){let a,t,n,o;return a=new ns({props:{title:e[0],description:e[1],url:e[2],keywords:e[3]}}),n=new bs({}),{c(){Ve(a.$$.fragment),t=y(),Ve(n.$$.fragment)},l(c){Be(a.$$.fragment,c),t=k(c),Be(n.$$.fragment,c)},m(c,f){Ue(a,c,f),ce(c,t,f),Ue(n,c,f),o=!0},p:Ae,i(c){o||(we(a.$$.fragment,c),we(n.$$.fragment,c),o=!0)},o(c){Se(a.$$.fragment,c),Se(n.$$.fragment,c),o=!1},d(c){Ne(a,c),c&&r(t),Ne(n,c)}}}function As(e){os();const{title:a,description:t,url:n,keywords:o}=Ta;return es("copy",Ta),[a,t,n,o]}class zs extends Nt{constructor(a){super(),At(this,a,As,Ns,Ot,{})}}export{zs as default};
